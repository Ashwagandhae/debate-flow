import{S as le,i as ie,s as ee,e as F,a as b,b as N,c as Be,l as K,n as te,d as O,r as Te,f as fn,o as je,g as Me,h as Q,j as yn,w as xe,q as Ne,k as Sn,m as Je,p as V,t as U,u as $,v as L,x as A,y as z,z as P,A as se,B,C as y,D as ue,E as fe,F as cn,G as Fn,H as De,I as Ue,J as ze,K as ge,L as it,M as wt,N as vt,O as x,P as Ke,Q as We,R as me,T as Se,U as ce,V as ot,W as st,X as at,Y as rt,Z as et,_ as lt,$ as bt,a0 as yt,a1 as Cn,a2 as Ln,a3 as Mn,a4 as Tn,a5 as mt,a6 as St,a7 as An,a8 as qn,a9 as Rn,aa as Dn,ab as Nn,ac as On,ad as Pn,ae as Ft,af as Hn}from"./vendor.5f7ba9ea.js";const jn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}};jn();class En{constructor(e){this.callbacks={any:[]},this.data=e,this.loadFromLocalStorage()}setValue(e,t){if(this.data[e].value=t,this.callbacks[e])for(let l of this.callbacks[e])l(e);for(let l of this.callbacks.any)l(e)}subscribe(e,t){for(let l of e)this.callbacks[l]||(this.callbacks[l]=[]),this.callbacks[l].push(t),t(l);return()=>{for(let l of e)this.callbacks[l]=this.callbacks[l].filter(i=>i!=t)}}saveToLocalStorage(){let e={};for(var t in this.data)this.data[t].value!=this.data[t].auto&&(e[t]=this.data[t].value);localStorage.setItem("settings",JSON.stringify(e))}loadFromLocalStorage(){if(localStorage.getItem("settings")){let t=JSON.parse(localStorage.getItem("settings"));try{for(var e in t)this.setValue(e,t[e])}catch{localStorage.setItem("settings",JSON.stringify({})),this.resetToAuto()}}}resetToAuto(){for(var e in this.data)this.setValue(e,this.data[e].auto)}randomize(){for(var e in this.data){let t=this.data[e];t.type=="slider"?this.setValue(e,t.detail.min+Math.random()*(t.detail.max-t.detail.min)):t.type=="radio"?this.setValue(e,Math.floor(Math.random()*t.detail.options.length)):t.type=="toggle"&&this.setValue(e,Math.random()<.5)}}}let G=new En({debateStyle:{name:"Debate Style",type:"radio",value:0,auto:0,detail:{options:["Policy","Public forum","Lincoln douglass"]},info:"Already created flows won't be affected by this setting"},colorTheme:{name:"Color theme",type:"radio",value:0,auto:0,detail:{options:["System default","Light theme","Dark theme"]}},columnWidth:{name:"Column width",type:"slider",value:150,auto:150,detail:{min:50,max:300,step:1}},accentHue:{name:"Primary color hue",type:"slider",value:192,auto:192,detail:{min:0,max:360,step:1,hue:!0},info:"This color will be used for aff"},accentSecondaryHue:{name:"Secondary color hue",type:"slider",value:26,auto:26,detail:{min:0,max:360,step:1,hue:!0},info:"This color will be used for neg"},transitionSpeed:{name:"Transition duration",type:"slider",value:300,auto:300,detail:{min:0,max:1e3,step:1}},useTooltips:{name:"Use tooltips",type:"toggle",value:!0,auto:!0},fontSize:{name:"Font size",type:"slider",value:.9,auto:.9,detail:{min:.2,max:2,step:.01}},fontWeight:{name:"Font weight",type:"slider",value:300,auto:300,detail:{min:100,max:900,step:50}},fontFamily:{name:"Font",type:"radio",value:0,auto:0,detail:{options:["Merriweather Sans","Helvetica","Georgia","Courier New"],customOption:!0,customOptionValue:""},info:"Type in a custom font name if it is installed on your computer"},borderRadius:{name:"Border radius",type:"slider",value:12,auto:12,detail:{min:0,max:30,step:1}},padding:{name:"Padding",value:8,auto:8,type:"slider",detail:{min:0,max:30,step:1}},gap:{name:"Grid Gap",value:12,auto:12,type:"slider",detail:{min:0,max:30,step:1}}});function In(n){let e,t,l,i;return{c(){e=F("textarea"),b(e,"spellcheck","false"),b(e,"placeholder",n[1]),b(e,"style",t=`--white-space:${n[3]};`),b(e,"class","svelte-1ggsm2f")},m(o,s){N(o,e,s),Be(e,n[0]),n[13](e),l||(i=[K(e,"input",n[12]),K(e,"load",n[2]),K(e,"input",n[2]),K(e,"input",n[7]),K(e,"beforeinput",n[8]),K(e,"keydown",n[9]),K(e,"focus",n[10]),K(e,"blur",n[11])],l=!0)},p(o,[s]){s&2&&b(e,"placeholder",o[1]),s&8&&t!==(t=`--white-space:${o[3]};`)&&b(e,"style",t),s&1&&Be(e,o[0])},i:te,o:te,d(o){o&&O(e),n[13](null),l=!1,Te(i)}}}function Bn(n,e,t){let{value:l}=e,{placeholder:i=""}=e,{nowrap:o=!1}=e,s,r;function a(){r&&(t(4,r.value=r.value.replace(/\r?\n|\r/g,""),r),t(4,r.style.height="0px",r),t(4,r.style.height=r.scrollHeight+"px",r))}fn(function(){a()}),je(G.subscribe(["fontSize"],a));const u=()=>{r.focus()};function c(h){Me.call(this,n,h)}function m(h){Me.call(this,n,h)}function p(h){Me.call(this,n,h)}function f(h){Me.call(this,n,h)}function _(h){Me.call(this,n,h)}function d(){l=this.value,t(0,l)}function k(h){Q[h?"unshift":"push"](()=>{r=h,t(4,r)})}return n.$$set=h=>{"value"in h&&t(0,l=h.value),"placeholder"in h&&t(1,i=h.placeholder),"nowrap"in h&&t(5,o=h.nowrap)},n.$$.update=()=>{n.$$.dirty&32&&(o?t(3,s="nowrap"):t(3,s="auto"))},[l,i,a,s,r,o,u,c,m,p,f,_,d,k]}class kt extends le{constructor(e){super();ie(this,e,Bn,In,ee,{value:0,placeholder:1,nowrap:5,autoHeight:2,focus:6})}get autoHeight(){return this.$$.ctx[2]}get focus(){return this.$$.ctx[6]}}function Vn(n){let e,t=n[1].svg+"",l;return{c(){e=yn("svg"),b(e,"style",l=`width:${n[0]};height:${n[0]};`),b(e,"viewBox","0 0 "+100+" "+100),b(e,"fill","none"),b(e,"stroke","var(--text)"),b(e,"class","svelte-1pducja")},m(i,o){N(i,e,o),e.innerHTML=t},p(i,[o]){o&2&&t!==(t=i[1].svg+"")&&(e.innerHTML=t),o&1&&l!==(l=`width:${i[0]};height:${i[0]};`)&&b(e,"style",l)},i:te,o:te,d(i){i&&O(e)}}}function Un(n,e,t){let{name:l}=e,{size:i="1rem"}=e,o=[{name:"arrowRight",svg:'<path d="M27 7L74 50L27 93" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowLeft",svg:'<path d="M74 93L27 50L74 7" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowUp",svg:'<path d="M7.5 73.5L50.5 26.5L93.5 73.5" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowDown",svg:'<path d="M93.5 26.5L50.5 73.5L7.5 26.5" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"delete",svg:`<path d="M78.5685 22L22 78.5685" stroke-width="10" stroke-linecap="round"/>
<path d="M22 22L78.5685 78.5685" stroke-width="10" stroke-linecap="round"/>`},{name:"add",svg:`<path d="M50 15L50 85" stroke-width="10" stroke-linecap="round"/>
<path d="M15 50H85" stroke-width="10" stroke-linecap="round"/>`},{name:"download",svg:`<path d="M71 45L50 68L29 45" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 85L80 85" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50 66L50 14" stroke-width="10" stroke-linecap="round"/>`},{name:"upload",svg:`<path d="M29 37L50 14L71 37" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 85L80 85" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50 16L50 68" stroke-width="10" stroke-linecap="round"/>`},{name:"addUp",svg:`<path d="M85 25V25C87.7614 25 90 27.2386 90 30V70C90 75.5228 85.5228 80 80 80H20C14.4772 80 10 75.5228 10 70L10 30C10 27.2386 12.2386 25 15 25V25" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M35 25H65" stroke-width="10" stroke-linecap="round"/>
<path d="M50 40V10" stroke-width="10" stroke-linecap="round"/>`},{name:"addDown",svg:`<path d="M15 75V75C12.2386 75 10 72.7614 10 70L10 30C10 24.4772 14.4772 20 20 20L80 20C85.5228 20 90 24.4772 90 30L90 70C90 72.7614 87.7614 75 85 75V75" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M65 75H35" stroke-width="10" stroke-linecap="round"/>
<path d="M50 60L50 90" stroke-width="10" stroke-linecap="round"/>`},{name:"addRight",svg:`<path d="M75 85V85C75 87.7614 72.7614 90 70 90H30C24.4772 90 20 85.5228 20 80V20C20 14.4772 24.4772 10 30 10H70C72.7614 10 75 12.2386 75 15V15" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M75 35V65" stroke-width="10" stroke-linecap="round"/>
<path d="M60 50H90" stroke-width="10" stroke-linecap="round"/>`},{name:"undo",svg:`<path d="M10 47H70C81.0457 47 90 55.9543 90 67V77" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M36 70L10 47L36 24" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"redo",svg:`<path d="M90 47H30C18.9543 47 10 55.9543 10 67V77" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M64 70L90 47L64 24" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"settings",svg:`<line x1="10" y1="50" x2="90" y2="50" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="80" x2="90" y2="80" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="20" x2="90" y2="20" stroke-width="10" stroke-linecap="round"/>
<circle cx="26.25" cy="50.25" r="6.25" stroke-width="10"/>
<circle cx="71.25" cy="80.25" r="6.25" stroke-width="10"/>
<circle cx="71.25" cy="20.25" r="6.25" stroke-width="10"/>`},{name:"check",svg:'<path d="M88.7817 29.2843L39.2842 78.7817L11 50.4975" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"dots",svg:`<circle cx="26.25" cy="50.25" r="5.625" stroke-width="11.25"/>
<circle cx="71.25" cy="80.25" r="5.625" stroke-width="11.25"/>
<circle cx="71.25" cy="20.25" r="5.625" stroke-width="11.25"/>`}],s;function r(){t(1,s=o.find(a=>a.name===l))}return r(),n.$$set=a=>{"name"in a&&t(2,l=a.name),"size"in a&&t(0,i=a.size)},n.$$.update=()=>{n.$$.dirty&4&&r()},[i,s,l]}class dn extends le{constructor(e){super();ie(this,e,Un,Vn,ee,{name:2,size:0})}}const Ze=xe(!0);let ne=xe([]),Re=xe(0),Ve=xe(!1),Qe=xe({open:!1,claimed:!1}),zn={policy:{aff:{columns:["1AC","1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!1},neg:{columns:["1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!0}},publicForum:{aff:{columns:["1AC","1NC","2AC","2NC","AS","NS","AFF","NFF"],invert:!1},neg:{columns:["1NC","1AC","2NC","2AC","AS","NS","AFF","NFF"],invert:!0}},lincolnDouglas:{aff:{columns:["AC","NC","1AR","1NR","2AR"],invert:!1},neg:{columns:["NC","1AR","1NR","2AR"],invert:!0}}},Kn=["policy","publicForum","lincolnDouglas"],Ee;ne.subscribe(n=>{Ee=n});function $e(n,e,t){return{content:"",children:[],index:n,level:e,focus:t}}function Wn(n,e){let t=zn[Kn[G.data.debateStyle.value]],l=0;for(let i=0;i<Ee.length;i++)Ee[i].id>=l&&(l=Ee[i].id+1);return{content:"",level:0,columns:t[e].columns,invert:t[e].invert,focus:!0,index:n,lastFocus:[n],children:[$e(0,1,!1)],history:new hn,id:l}}function ye(n,e=0){let t=Ee[n[0]];for(let l=1;l<n.length-e;l++)if(t=t==null?void 0:t.children[n[l]],t==null)return null;return t}class hn{constructor(){this.index=-1,this.data=[],this.lastFocus=null}lastAction(){return this.data[this.index]}add(e,t,l){if(Ve.set(!1),this.resolveAllPending(),this.lastFocus==null)return;let i={type:e,path:t,lastFocus:this.lastFocus==null?null:[...this.lastFocus],nextFocus:null,other:l,pending:!1};this.data=this.data.slice(0,this.index+1),this.data.push(i),this.index=this.data.length-1}addPending(e,t,l){Ve.set(!1),this.data=this.data.slice(0,this.index+1),this.data.push({type:e,path:t,lastFocus:null,nextFocus:null,other:l,pending:!0}),this.index=this.data.length-1}resolveAllPending(){let e=!1,t=[...this.data];for(let l=0;l<this.data.length;l++){let i=this.data[l];if(i.pending){let o={type:i.type,path:i.path,lastFocus:i.path,nextFocus:i.path,other:i.other,pending:!1},s=!0;o.type=="edit"&&(o.other.lastContent=i.other.lastContent,o.other.nextContent=i.other.getNextContent(),o.other.lastContent==o.other.nextContent&&(s=!1),i.other.createEditBreak()),s?(e=!0,t[l]=o):(t[l]=null,this.index>=l&&(this.index-=1))}}this.data=t.filter(l=>l!=null),e&&console.log("resolving all pending")}addFocus(e){this.lastFocus=e,this.lastAction()&&this.lastAction().nextFocus==null&&(this.lastAction().nextFocus=e)}undoAction(e){console.log("undo",this.index,this.data);let t=ye(e.path,1);if(t==null)throw new Error("parent is null");let l=e.path[e.path.length-1],i=[...t.children];e.type=="add"?i.splice(l,1):e.type=="delete"?i.splice(l,0,e.other.box):e.type=="edit"&&(i[l].content=e.other.lastContent);for(let o=l;o<i.length;o++)i[o].index=o;t.children=[...i]}redoAction(e){console.log("redo",this.index,this.data);let t=ye(e.path,1),l=e.path[e.path.length-1];if(t==null)throw new Error("parent is null");let i=[...t.children];e.type=="add"?i.splice(l,0,$e(l,t.level+1,!1)):e.type=="delete"?i.splice(l,1):e.type=="edit"&&(i[l].content=e.other.nextContent);for(let o=l;o<i.length;o++)i[o].index=o;t.children=[...i]}focus(e){let t=ye(e);t!=null&&(t.focus=!0)}undo(){if(this.resolveAllPending(),this.index>-1){let e=this.lastAction();this.undoAction(e),this.focus(e.lastFocus),ne.set(Ee),this.index-=1}}redo(){if(this.resolveAllPending(),this.index<this.data.length-1){this.index+=1;let e=this.lastAction();this.redoAction(e),this.focus(e.nextFocus),ne.set(Ee)}}}function Jn(n){const e=n.clientHeight;return{duration:G.data.transitionSpeed.value,css:t=>{const l=Ne(t);return`
        height: calc(${l*e}px - var(--padding) * 2);
        overflow: visible;
        clip-path: inset(${(1-l)*e-2}px 0 -${e}px 0);
        transform: translateY(${(1-l)*-e}px);
        `}}}function Xn(n){const e=n.clientHeight;return{duration:G.data.transitionSpeed.value,css:t=>{const l=Ne(t);return`
        height: ${l*e}px;
        overflow: visible;
        clip-path: inset(${(1-l)*e}px 0 0 0);
        transform: translateY(${(1-l)*-e}px);
        `}}}function Gn(n){return{duration:G.data.transitionSpeed.value,css:e=>`
        opacity:${e};
      `}}function Ct(n){return{duration:G.data.transitionSpeed.value,css:e=>{const t=Ne(e);return`
        clip-path:inset(0% ${(1-t)*100}% 0% 0%);
        transform: translateX(${(1-t)*50}%);
      `}}}function Lt(n){return{duration:G.data.transitionSpeed.value,css:e=>{const t=Sn(e);return`
      clip-path:inset(0% ${(1-t)*100}% 0% 0%);
      transform: translateX(${(1-t)*50}%)`}}}function Yn(n){const e=n.clientHeight;return{duration:G.data.transitionSpeed.value,css:t=>{const l=Ne(t);return`
        height: ${e*l}px;
        margin-bottom: calc(${l} * var(--padding));
        transform: scale(${l});
        opacity: ${l};
      `}}}function Qn(n){const e=n.clientHeight;return{duration:G.data.transitionSpeed.value,css:t=>{const l=Ne(t);return`
        height: ${e*l}px;
        transform: scale(${l});
        opacity: ${l};
      `}}}function Mt(n){return{duration:G.data.transitionSpeed.value,css:e=>`
        transform: scale(${Ne(e)});
        opacity: ${e};
      `}}function Zn(n){return{duration:G.data.transitionSpeed.value,css:e=>`
        transform: scale(${Ne(e)});
        opacity: ${e};
      `}}function $n(n){return{duration:G.data.transitionSpeed.value,css:e=>`
        transform: scale(${Ne(e)});
        opacity: ${e};
      `}}function Tt(n){return{duration:G.data.transitionSpeed.value,css:e=>`
        opacity: ${e};
      `}}function At(n,e,t){const l=n.slice();return l[57]=e[t],l[58]=e,l[59]=t,l}function xn(n){let e,t,l,i,o,s,r,a,u,c,m,p,f,_,d,k,h;function g(R){n[33](R)}let w={placeholder:n[13]};n[1]!==void 0&&(w.value=n[1]),a=new kt({props:w}),Q.push(()=>x(a,"value",g)),n[34](a),a.$on("keydown",n[22]),a.$on("beforeinput",n[23]),a.$on("blur",n[21]),a.$on("focus",n[20]);let S=n[2].length==0&&n[6]<n[17]&&qt(n);return{c(){e=F("div"),t=F("div"),l=F("div"),s=P(),r=F("div"),V(a.$$.fragment),c=P(),m=F("div"),_=P(),S&&S.c(),b(l,"class","line above svelte-u4emm2"),B(l,"left",n[2].length>0),B(l,"right",n[5]==0&&n[6]>1&&!n[4]),b(r,"class","text svelte-u4emm2"),b(m,"class","line below svelte-u4emm2"),b(t,"class","barcontainer svelte-u4emm2"),b(e,"class","content svelte-u4emm2"),b(e,"style",`--this-background: ${n[18]}`),B(e,"root",n[3]),B(e,"left",n[2].length>0),B(e,"right",n[5]==0&&n[6]>1&&!n[4])},m(R,j){N(R,e,j),y(e,t),y(t,l),y(t,s),y(t,r),U(a,r,null),y(t,c),y(t,m),y(e,_),S&&S.m(e,null),d=!0,k||(h=[K(l,"click",n[32]),K(l,"mousedown",gt),K(m,"click",n[35]),K(m,"mousedown",gt)],k=!0)},p(R,j){j[0]&4&&B(l,"left",R[2].length>0),j[0]&112&&B(l,"right",R[5]==0&&R[6]>1&&!R[4]);const M={};j[0]&8192&&(M.placeholder=R[13]),!u&&j[0]&2&&(u=!0,M.value=R[1],$(()=>u=!1)),a.$set(M),R[2].length==0&&R[6]<R[17]?S?(S.p(R,j),j[0]&68&&L(S,1)):(S=qt(R),S.c(),L(S,1),S.m(e,null)):S&&(ue(),A(S,1,1,()=>{S=null}),fe()),j[0]&8&&B(e,"root",R[3]),j[0]&4&&B(e,"left",R[2].length>0),j[0]&112&&B(e,"right",R[5]==0&&R[6]>1&&!R[4])},i(R){d||(R&&De(()=>{o&&o.end(1),i=Ue(l,Ct,{}),i.start()}),L(a.$$.fragment,R),R&&De(()=>{f&&f.end(1),p=Ue(m,Ct,{}),p.start()}),L(S),d=!0)},o(R){i&&i.invalidate(),R&&(o=ze(l,Lt,{})),A(a.$$.fragment,R),p&&p.invalidate(),R&&(f=ze(m,Lt,{})),A(S),d=!1},d(R){R&&O(e),R&&o&&o.end(),n[34](null),z(a),R&&f&&f.end(),S&&S.d(),k=!1,Te(h)}}}function el(n){let e;return{c(){e=F("div"),b(e,"class","content svelte-u4emm2")},m(t,l){N(t,e,l)},p:te,i:te,o:te,d(t){t&&O(e)}}}function qt(n){let e,t,l,i,o,s,r;return t=new dn({props:{name:"add"}}),{c(){e=F("button"),V(t.$$.fragment),b(e,"class",l=se(`add palette-${n[15]}`)+" svelte-u4emm2")},m(a,u){N(a,e,u),U(t,e,null),o=!0,s||(r=[K(e,"click",n[36]),K(e,"mousedown",gt)],s=!0)},p(a,u){(!o||u[0]&32768&&l!==(l=se(`add palette-${a[15]}`)+" svelte-u4emm2"))&&b(e,"class",l)},i(a){o||(L(t.$$.fragment,a),a&&(i||De(()=>{i=Ue(e,Gn,{}),i.start()})),o=!0)},o(a){A(t.$$.fragment,a),o=!1},d(a){a&&O(e),z(t),s=!1,Te(r)}}}function Rt(n,e){let t,l,i,o,s,r,a,u,c;function m(g){e[37](g,e[57])}function p(g){e[38](g,e[57])}function f(g){e[39](g,e[57])}function _(g){e[40](g,e[57])}function d(g){e[41](g,e[57])}function k(g){e[42](g,e[57])}let h={addSibling:e[24],deleteSelf:e[25],focusSibling:e[26],focusParent:e[27],dispatchSelfFocus:e[19],parentPath:e[10],parentIsEmpty:e[7]};return e[57].content!==void 0&&(h.content=e[57].content),e[57].children!==void 0&&(h.children=e[57].children),e[57].index!==void 0&&(h.index=e[57].index),e[57].level!==void 0&&(h.level=e[57].level),e[57].focus!==void 0&&(h.focus=e[57].focus),e[57].empty!==void 0&&(h.empty=e[57].empty),l=new pn({props:h}),Q.push(()=>x(l,"content",m)),Q.push(()=>x(l,"children",p)),Q.push(()=>x(l,"index",f)),Q.push(()=>x(l,"level",_)),Q.push(()=>x(l,"focus",d)),Q.push(()=>x(l,"empty",k)),l.$on("saveFocus",e[43]),{key:n,first:null,c(){t=Je(),V(l.$$.fragment),this.first=t},m(g,w){N(g,t,w),U(l,g,w),c=!0},p(g,w){e=g;const S={};w[0]&1024&&(S.parentPath=e[10]),w[0]&128&&(S.parentIsEmpty=e[7]),!i&&w[0]&4&&(i=!0,S.content=e[57].content,$(()=>i=!1)),!o&&w[0]&4&&(o=!0,S.children=e[57].children,$(()=>o=!1)),!s&&w[0]&4&&(s=!0,S.index=e[57].index,$(()=>s=!1)),!r&&w[0]&4&&(r=!0,S.level=e[57].level,$(()=>r=!1)),!a&&w[0]&4&&(a=!0,S.focus=e[57].focus,$(()=>a=!1)),!u&&w[0]&4&&(u=!0,S.empty=e[57].empty,$(()=>u=!1)),l.$set(S)},i(g){c||(L(l.$$.fragment,g),c=!0)},o(g){A(l.$$.fragment,g),c=!1},d(g){g&&O(t),z(l,g)}}}function tl(n){let e,t,l,i,o,s=[],r=new Map,a,u,c,m;const p=[el,xn],f=[];function _(h,g){return h[7]?0:1}t=_(n),l=f[t]=p[t](n);let d=n[2];const k=h=>h[57];for(let h=0;h<d.length;h+=1){let g=At(n,d,h),w=k(g);r.set(w,s[h]=Rt(w,g))}return{c(){e=F("div"),l.c(),i=P(),o=F("ul");for(let h=0;h<s.length;h+=1)s[h].c();b(o,"class","children svelte-u4emm2"),b(e,"class",a=se(`top palette-${n[14]}`)+" svelte-u4emm2"),B(e,"childless",n[2].length==0),B(e,"empty",n[7]),B(e,"focus",n[0]),B(e,"childFocus",n[12]),B(e,"activeMouse",n[16]),B(e,"highlight",n[12]||n[0])},m(h,g){N(h,e,g),f[t].m(e,null),y(e,i),y(e,o);for(let w=0;w<s.length;w+=1)s[w].m(o,null);m=!0},p(h,g){let w=t;t=_(h),t===w?f[t].p(h,g):(ue(),A(f[w],1,1,()=>{f[w]=null}),fe(),l=f[t],l?l.p(h,g):(l=f[t]=p[t](h),l.c()),L(l,1),l.m(e,i)),g[0]&252183684&&(d=h[2],ue(),s=cn(s,g,k,1,h,d,r,o,Fn,Rt,null,At),fe()),(!m||g[0]&16384&&a!==(a=se(`top palette-${h[14]}`)+" svelte-u4emm2"))&&b(e,"class",a),g[0]&16388&&B(e,"childless",h[2].length==0),g[0]&16512&&B(e,"empty",h[7]),g[0]&16385&&B(e,"focus",h[0]),g[0]&20480&&B(e,"childFocus",h[12]),g[0]&81920&&B(e,"activeMouse",h[16]),g[0]&20481&&B(e,"highlight",h[12]||h[0])},i(h){if(!m){L(l);for(let g=0;g<d.length;g+=1)L(s[g]);h&&De(()=>{c&&c.end(1),u=Ue(e,Jn,{}),u.start()}),m=!0}},o(h){A(l);for(let g=0;g<s.length;g+=1)A(s[g]);u&&u.invalidate(),h&&(c=ze(e,Xn,{})),m=!1},d(h){h&&O(e),f[t].d();for(let g=0;g<s.length;g+=1)s[g].d();h&&c&&c.end()}}}function gt(n){n.preventDefault()}function nl(n,e,t){let l,i,o,s;ge(n,Re,T=>t(46,i=T)),ge(n,ne,T=>t(47,o=T)),ge(n,Ze,T=>t(16,s=T));var r=this&&this.__awaiter||function(T,Y,oe,_e){function qe(Oe){return Oe instanceof oe?Oe:new oe(function(Pe){Pe(Oe)})}return new(oe||(oe=Promise))(function(Oe,Pe){function kn(He){try{pt(_e.next(He))}catch(_t){Pe(_t)}}function wn(He){try{pt(_e.throw(He))}catch(_t){Pe(_t)}}function pt(He){He.done?Oe(He.value):qe(He.value).then(kn,wn)}pt((_e=_e.apply(T,Y||[])).next())})};const a=it();let{root:u=!1}=e,{parentIsEmpty:c=!1}=e,{content:m=""}=e,{children:p}=e,{index:f}=e,{level:_}=e,{focus:d=!1}=e,{parentPath:k=[]}=e,{empty:h=!1}=e,{addSibling:g=()=>!1}=e,{deleteSelf:w=()=>{}}=e,{focusSibling:S=()=>{}}=e,{focusParent:R=()=>{}}=e,{dispatchSelfFocus:j=()=>{}}=e,I=wt("invert")(),X=wt("columnCount")(),v,D,W=!1,H=-1;function re(T,Y){Y?(t(12,W=!0),H=T):T==H&&(t(12,W=!1),H=-1)}let he=!1;function ve(){d?(j(f,!0),_>=1&&(o[i].history.addFocus([...l]),a("saveFocus",l),v&&v.focus())):(j(f,!1),he=!1)}vt(ve);function Fe(){d&&(j(f,!0),o[i].history.addFocus([...l]))}let de="";function be(){d||J()}function ke(){d&&t(0,d=!1)}class pe{constructor(Y,oe=()=>!0,_e=!0,qe=!0,Oe=!0){this.require=oe,this.stopRepeat=_e,this.preventDefault=qe,this.blur=Oe,this.handle=function(Pe){return!this.require()||(this.preventDefault&&Pe.preventDefault(),this.stopRepeat&&Pe.repeat==!0)?!1:(this.blur&&t(0,d=!1),Y(),!0)}}}const Ie={shift:{Enter:new pe(()=>{Xe(0,0)&&E(0,0)})},other:{Enter:new pe(()=>{g(f,1)&&S(f,1)}),Backspace:new pe(()=>{w(f)},()=>m.length==0),ArrowUp:new pe(()=>S(f,-1)),ArrowDown:new pe(()=>S(f,1)),ArrowLeft:new pe(()=>R()),ArrowRight:new pe(()=>{p.length>0?E(0,0):S(f,1)})}};function ft(T){T.shiftKey&&Ie.shift[T.key]?Ie.shift[T.key].handle(T):Ie.other[T.key]&&Ie.other[T.key].handle(T)}function ct(T){he||o[i].history.addPending("edit",[...l],{lastContent:m,getNextContent(){return m},createEditBreak(){he=!1}}),he=!0}function Xe(T,Y){let oe=T+Y;if(_<X){let _e=[...p];_e.splice(oe,0,$e(oe,_+1,!0));for(let qe=oe;qe<_e.length;qe++)_e[qe].index=qe;return o[i].history.add("add",[...l,oe]),t(2,p=[..._e]),!0}else return J(),!1}function C(T){return r(this,void 0,void 0,function*(){if(p.length>1||_>=1){if(h&&p.length==1){w(f);return}let Y=[...p];o[i].history.add("delete",[...l,T],{box:Y[T]}),Y[T].focus=!1,t(2,p=[...Y]),yield Ke(),Y.splice(T,1);for(let oe=0;oe<Y.length;oe++)Y[oe].index=oe;return t(2,p=[...Y]),p[T-1]?E(T-1,0):p.length==0?J():T==0&&E(0,0),!0}else return E(0,0),!1})}function E(T,Y){let oe=T+Y;if(oe<0){J();return}if(oe>=p.length)if(p[p.length-1].children.length>0){let _e=p[p.length-1].children[0];_e.focus=!0}else t(2,p[T].focus=!0,p);else p[oe].empty&&Y!=0?E(oe,Y):t(2,p[oe].focus=!0,p);t(2,p)}function J(){h?R():t(0,d=!0)}let Z,we;const Ce=()=>{g(f,0)&&S(f,0)};function Ae(T){m=T,t(1,m)}function dt(T){Q[T?"unshift":"push"](()=>{v=T,t(11,v)})}const ht=()=>{g(f,1)&&S(f,1)},Ge=()=>{Xe(0,0),E(0,0)};function Le(T,Y){n.$$.not_equal(Y.content,T)&&(Y.content=T,t(2,p))}function Ye(T,Y){n.$$.not_equal(Y.children,T)&&(Y.children=T,t(2,p))}function _n(T,Y){n.$$.not_equal(Y.index,T)&&(Y.index=T,t(2,p))}function mn(T,Y){n.$$.not_equal(Y.level,T)&&(Y.level=T,t(2,p))}function gn(T,Y){n.$$.not_equal(Y.focus,T)&&(Y.focus=T,t(2,p))}function vn(T,Y){n.$$.not_equal(Y.empty,T)&&(Y.empty=T,t(2,p))}function bn(T){Me.call(this,n,T)}return n.$$set=T=>{"root"in T&&t(3,u=T.root),"parentIsEmpty"in T&&t(4,c=T.parentIsEmpty),"content"in T&&t(1,m=T.content),"children"in T&&t(2,p=T.children),"index"in T&&t(5,f=T.index),"level"in T&&t(6,_=T.level),"focus"in T&&t(0,d=T.focus),"parentPath"in T&&t(28,k=T.parentPath),"empty"in T&&t(7,h=T.empty),"addSibling"in T&&t(8,g=T.addSibling),"deleteSelf"in T&&t(29,w=T.deleteSelf),"focusSibling"in T&&t(9,S=T.focusSibling),"focusParent"in T&&t(30,R=T.focusParent),"dispatchSelfFocus"in T&&t(31,j=T.dispatchSelfFocus)},n.$$.update=()=>{n.$$.dirty[0]&268435488&&t(10,l=[...k,f]),n.$$.dirty[0]&1&&ve(),n.$$.dirty[0]&1024&&Fe(),n.$$.dirty[0]&96&&(_==1&&f==0?t(13,de="type here"):t(13,de="")),n.$$.dirty[0]&64&&(_%2==0&&!I||_%2==1&&I?t(14,Z="accent-secondary"):t(14,Z="accent")),n.$$.dirty[0]&64&&(_%2==0&&!I||_%2==1&&I?t(15,we="accent"):t(15,we="accent-secondary"))},[d,m,p,u,c,f,_,h,g,S,l,v,W,de,Z,we,s,X,D,re,be,ke,ft,ct,Xe,C,E,J,k,w,R,j,Ce,Ae,dt,ht,Ge,Le,Ye,_n,mn,gn,vn,bn]}class pn extends le{constructor(e){super();ie(this,e,nl,tl,ee,{root:3,parentIsEmpty:4,content:1,children:2,index:5,level:6,focus:0,parentPath:28,empty:7,addSibling:8,deleteSelf:29,focusSibling:9,focusParent:30,dispatchSelfFocus:31},null,[-1,-1])}}function Dt(n,e,t){const l=n.slice();return l[2]=e[t],l[4]=t,l}function ll(n){let e,t=n[2].toUpperCase()+"",l;return{c(){e=F("kbd"),l=me(t),b(e,"class","key svelte-1ngepvq")},m(i,o){N(i,e,o),y(e,l)},p(i,o){o&1&&t!==(t=i[2].toUpperCase()+"")&&Se(l,t)},d(i){i&&O(e)}}}function il(n){let e,t=n[1][n[2]]+"",l;return{c(){e=F("kbd"),l=me(t),b(e,"class","modifier svelte-1ngepvq")},m(i,o){N(i,e,o),y(e,l)},p(i,o){o&1&&t!==(t=i[1][i[2]]+"")&&Se(l,t)},d(i){i&&O(e)}}}function Nt(n){let e;function t(o,s){return o[2]in o[1]?il:ll}let l=t(n),i=l(n);return{c(){i.c(),e=Je()},m(o,s){i.m(o,s),N(o,e,s)},p(o,s){l===(l=t(o))&&i?i.p(o,s):(i.d(1),i=l(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&O(e)}}}function ol(n){let e,t=n[0],l=[];for(let i=0;i<t.length;i+=1)l[i]=Nt(Dt(n,t,i));return{c(){e=F("span");for(let i=0;i<l.length;i+=1)l[i].c();b(e,"class","top svelte-1ngepvq")},m(i,o){N(i,e,o);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(i,[o]){if(o&3){t=i[0];let s;for(s=0;s<t.length;s+=1){const r=Dt(i,t,s);l[s]?l[s].p(r,o):(l[s]=Nt(r),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},i:te,o:te,d(i){i&&O(e),We(l,i)}}}function sl(n,e,t){let{keys:l}=e,i={command:"\u2318",shift:"\u21E7",option:"\u2325",control:"\u2303",up:"\u2191",down:"\u2193",left:"\u2190",right:"\u2192",escape:"\u238B",return:"\u21B5",space:"\u2423",delete:"\u232B",backspace:"\u2326",tab:"\u21E5",home:"\u21F1",end:"\u21F2",pageup:"\u21DE",pagedown:"\u21DF",insert:"\u2324"};return n.$$set=o=>{"keys"in o&&t(0,l=o.keys)},[l,i]}class al extends le{constructor(e){super();ie(this,e,sl,ol,ee,{keys:0})}}function rl(n){let e;const t=n[14].default,l=ot(t,n,n[13],null);return{c(){l&&l.c()},m(i,o){l&&l.m(i,o),e=!0},p(i,o){l&&l.p&&(!e||o&8192)&&st(l,t,i,i[13],e?rt(t,i[13],o,null):at(i[13]),null)},i(i){e||(L(l,i),e=!0)},o(i){A(l,i),e=!1},d(i){l&&l.d(i)}}}function ul(n){let e,t,l,i,o,s;const r=n[14].default,a=ot(r,n,n[13],null);let u=n[4]&&Ot(n);return{c(){e=F("div"),a&&a.c(),t=P(),u&&u.c(),l=Je(),b(e,"class","element svelte-1vroict")},m(c,m){N(c,e,m),a&&a.m(e,null),n[15](e),N(c,t,m),u&&u.m(c,m),N(c,l,m),i=!0,o||(s=[K(e,"mouseover",n[9]),K(e,"focus",n[9]),K(e,"mouseleave",n[11]),K(e,"blur",n[11]),K(e,"mousemove",n[10])],o=!0)},p(c,m){a&&a.p&&(!i||m&8192)&&st(a,r,c,c[13],i?rt(r,c[13],m,null):at(c[13]),null),c[4]?u?(u.p(c,m),m&16&&L(u,1)):(u=Ot(c),u.c(),L(u,1),u.m(l.parentNode,l)):u&&(ue(),A(u,1,1,()=>{u=null}),fe())},i(c){i||(L(a,c),L(u),i=!0)},o(c){A(a,c),A(u),i=!1},d(c){c&&O(e),a&&a.d(c),n[15](null),c&&O(t),u&&u.d(c),c&&O(l),o=!1,Te(s)}}}function Ot(n){let e,t,l,i,o,s,r,a=!n[2]&&n[1]&&Pt(n),u=n[2]&&Ht(n);return{c(){e=F("div"),t=F("div"),l=me(n[0]),i=P(),a&&a.c(),o=P(),u&&u.c(),b(t,"class","content"),et(e,"top",n[6]+"px"),et(e,"left",n[5]+"px"),b(e,"class","tooltip svelte-1vroict")},m(c,m){N(c,e,m),y(e,t),y(t,l),y(e,i),a&&a.m(e,null),y(e,o),u&&u.m(e,null),n[16](e),r=!0},p(c,m){(!r||m&1)&&Se(l,c[0]),!c[2]&&c[1]?a?(a.p(c,m),m&6&&L(a,1)):(a=Pt(c),a.c(),L(a,1),a.m(e,o)):a&&(ue(),A(a,1,1,()=>{a=null}),fe()),c[2]?u?u.p(c,m):(u=Ht(c),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!r||m&64)&&et(e,"top",c[6]+"px"),(!r||m&32)&&et(e,"left",c[5]+"px")},i(c){r||(L(a),De(()=>{s||(s=lt(e,Mt,{},!0)),s.run(1)}),r=!0)},o(c){A(a),s||(s=lt(e,Mt,{},!1)),s.run(0),r=!1},d(c){c&&O(e),a&&a.d(),u&&u.d(),n[16](null),c&&s&&s.end()}}}function Pt(n){let e,t;return e=new al({props:{keys:n[1]}}),{c(){V(e.$$.fragment)},m(l,i){U(e,l,i),t=!0},p(l,i){const o={};i&2&&(o.keys=l[1]),e.$set(o)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ht(n){let e,t;return{c(){e=F("div"),t=me(n[2]),b(e,"class","disabled svelte-1vroict")},m(l,i){N(l,e,i),y(e,t)},p(l,i){i&4&&Se(t,l[2])},d(l){l&&O(e)}}}function fl(n){let e,t,l,i;const o=[ul,rl],s=[];function r(a,u){return a[0]&&a[8]?0:1}return e=r(n),t=s[e]=o[e](n),{c(){t.c(),l=Je()},m(a,u){s[e].m(a,u),N(a,l,u),i=!0},p(a,[u]){let c=e;e=r(a),e===c?s[e].p(a,u):(ue(),A(s[c],1,1,()=>{s[c]=null}),fe(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),L(t,1),t.m(l.parentNode,l))},i(a){i||(L(t),i=!0)},o(a){A(t),i=!1},d(a){s[e].d(a),a&&O(l)}}}function cl(n,e,t){let l;ge(n,Qe,q=>t(18,l=q));let{$$slots:i={},$$scope:o}=e;var s=this&&this.__awaiter||function(q,X,v,D){function W(H){return H instanceof v?H:new v(function(re){re(H)})}return new(v||(v=Promise))(function(H,re){function he(de){try{Fe(D.next(de))}catch(be){re(be)}}function ve(de){try{Fe(D.throw(de))}catch(be){re(be)}}function Fe(de){de.done?H(de.value):W(de.value).then(he,ve)}Fe((D=D.apply(q,X||[])).next())})};let{content:r}=e,{shortcut:a}=e,{disabled:u=!1}=e,{layout:c="bottom"}=e,m=!1,p=0,f=0,_,d,k=!0;je(G.subscribe(["useTooltips"],function(){t(8,k=G.data.useTooltips.value)}));let h=null;function g(){return s(this,void 0,void 0,function*(){t(4,m=!0),S(),yield Ke(),ce(Qe,l.open=!0,l)})}function w(){m||(ce(Qe,l.claimed=!0,l),l.open?g():h==null&&(h=setTimeout(g,1e3)))}function S(){if(d){let q=_.getBoundingClientRect();c=="bottom"||c=="top"?(t(5,p=q.left-d.offsetWidth/2+q.width/2),p<4?t(5,p=4):p+d.offsetWidth>window.innerWidth-4&&t(5,p=window.innerWidth-d.offsetWidth-4),c=="bottom"?t(6,f=q.bottom+4):c=="top"&&t(6,f=q.top-d.offsetHeight-4)):(c=="left"||c=="right")&&(t(6,f=q.top-d.offsetHeight/2+q.height/2),f<4?t(6,f=4):f+d.offsetHeight>window.innerHeight-4&&t(6,f=window.innerHeight-d.offsetHeight-4),c=="left"?t(5,p=q.left-d.offsetWidth-4):c=="right"&&t(5,p=q.right+4))}}function R(){return s(this,void 0,void 0,function*(){yield Ke(),S()})}function j(){h!=null&&(clearTimeout(h),h=null),ce(Qe,l.claimed=!1,l),t(4,m=!1),setTimeout(function(){l.claimed||ce(Qe,l.open=!1,l)},300)}function M(q){Q[q?"unshift":"push"](()=>{_=q,t(7,_)})}function I(q){Q[q?"unshift":"push"](()=>{d=q,t(3,d)})}return n.$$set=q=>{"content"in q&&t(0,r=q.content),"shortcut"in q&&t(1,a=q.shortcut),"disabled"in q&&t(2,u=q.disabled),"layout"in q&&t(12,c=q.layout),"$$scope"in q&&t(13,o=q.$$scope)},n.$$.update=()=>{n.$$.dirty&4111&&R()},[r,a,u,d,m,p,f,_,k,w,S,j,c,o,i,M,I]}class dl extends le{constructor(e){super();ie(this,e,cl,fl,ee,{content:0,shortcut:1,disabled:2,layout:12})}}function jt(n){let e,t;return{c(){e=F("p"),t=me(n[1]),b(e,"class","svelte-14fho1m")},m(l,i){N(l,e,i),y(e,t)},p(l,i){i&2&&Se(t,l[1])},d(l){l&&O(e)}}}function hl(n){let e,t,l,i,o,s,r,a;t=new dn({props:{name:n[0],size:"var(--button-size)"}});let u=n[1]&&jt(n);return{c(){e=F("button"),V(t.$$.fragment),l=P(),u&&u.c(),b(e,"class",i=se(`top ${n[5]?"palette-"+n[5]:""}`)+" svelte-14fho1m"),e.disabled=o=!!n[3],B(e,"disabled",n[3])},m(c,m){N(c,e,m),U(t,e,null),y(e,l),u&&u.m(e,null),s=!0,r||(a=[K(e,"click",n[8]),K(e,"mousedown",_l)],r=!0)},p(c,m){const p={};m&1&&(p.name=c[0]),t.$set(p),c[1]?u?u.p(c,m):(u=jt(c),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!s||m&32&&i!==(i=se(`top ${c[5]?"palette-"+c[5]:""}`)+" svelte-14fho1m"))&&b(e,"class",i),(!s||m&8&&o!==(o=!!c[3]))&&(e.disabled=o),m&40&&B(e,"disabled",c[3])},i(c){s||(L(t.$$.fragment,c),s=!0)},o(c){A(t.$$.fragment,c),s=!1},d(c){c&&O(e),z(t),u&&u.d(),r=!1,Te(a)}}}function pl(n){let e,t;return e=new dl({props:{content:n[2],disabled:n[3]&&n[6],shortcut:n[4],layout:n[7],$$slots:{default:[hl]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},m(l,i){U(e,l,i),t=!0},p(l,[i]){const o={};i&4&&(o.content=l[2]),i&72&&(o.disabled=l[3]&&l[6]),i&16&&(o.shortcut=l[4]),i&128&&(o.layout=l[7]),i&555&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function _l(n){n.preventDefault()}function ml(n,e,t){let{icon:l}=e,{text:i=null}=e,{tooltip:o=null}=e,{disabled:s=!1}=e,{shortcut:r=null}=e,{palette:a=null}=e,{disabledReason:u="disabled"}=e,{tooltipLayout:c="bottom"}=e;function m(p){Me.call(this,n,p)}return n.$$set=p=>{"icon"in p&&t(0,l=p.icon),"text"in p&&t(1,i=p.text),"tooltip"in p&&t(2,o=p.tooltip),"disabled"in p&&t(3,s=p.disabled),"shortcut"in p&&t(4,r=p.shortcut),"palette"in p&&t(5,a=p.palette),"disabledReason"in p&&t(6,u=p.disabledReason),"tooltipLayout"in p&&t(7,c=p.tooltipLayout)},[l,i,o,s,r,a,u,c,m]}class ae extends le{constructor(e){super();ie(this,e,ml,pl,ee,{icon:0,text:1,tooltip:2,disabled:3,shortcut:4,palette:5,disabledReason:6,tooltipLayout:7})}}function gl(n){let e,t,l,i,o,s,r;return s=new ae({props:{icon:"add"}}),s.$on("click",function(){bt(n[1])&&n[1].apply(this,arguments)}),{c(){e=F("div"),t=F("div"),l=me(n[0]),i=P(),o=F("div"),V(s.$$.fragment),b(t,"class","text svelte-emv8pv"),b(o,"class","add svelte-emv8pv"),b(e,"class","top svelte-emv8pv")},m(a,u){N(a,e,u),y(e,t),y(t,l),y(e,i),y(e,o),U(s,o,null),r=!0},p(a,[u]){n=a,(!r||u&1)&&Se(l,n[0])},i(a){r||(L(s.$$.fragment,a),r=!0)},o(a){A(s.$$.fragment,a),r=!1},d(a){a&&O(e),z(s)}}}function vl(n,e,t){let{column:l}=e,{addEmpty:i}=e;return n.$$set=o=>{"column"in o&&t(0,l=o.column),"addEmpty"in o&&t(1,i=o.addEmpty)},[l,i]}class bl extends le{constructor(e){super();ie(this,e,vl,gl,ee,{column:0,addEmpty:1})}}function Et(n,e,t){const l=n.slice();return l[10]=e[t],l[12]=t,l}function It(n,e,t){const l=n.slice();return l[13]=e[t],l[12]=t,l}function Bt(n){let e,t,l,i,o;function s(){return n[8](n[12])}return t=new bl({props:{column:n[13],addEmpty:s}}),t.$on("focusFlow",n[9]),{c(){e=F("div"),V(t.$$.fragment),l=P(),b(e,"class",i=se(`header palette-${!!(n[12]%2)==n[0].invert?"accent":"accent-secondary"}`)+" svelte-10q6y9h")},m(r,a){N(r,e,a),U(t,e,null),y(e,l),o=!0},p(r,a){n=r;const u={};a&1&&(u.column=n[13]),t.$set(u),(!o||a&1&&i!==(i=se(`header palette-${!!(n[12]%2)==n[0].invert?"accent":"accent-secondary"}`)+" svelte-10q6y9h"))&&b(e,"class",i)},i(r){o||(L(t.$$.fragment,r),o=!0)},o(r){A(t.$$.fragment,r),o=!1},d(r){r&&O(e),z(t)}}}function Vt(n){let e,t;return{c(){e=F("div"),b(e,"class",t=se(`column palette-${!!(n[12]%2)==n[0].invert?"plain":"plain-secondary"}`)+" svelte-10q6y9h")},m(l,i){N(l,e,i)},p(l,i){i&1&&t!==(t=se(`column palette-${!!(l[12]%2)==l[0].invert?"plain":"plain-secondary"}`)+" svelte-10q6y9h")&&b(e,"class",t)},d(l){l&&O(e)}}}function kl(n){let e,t,l,i,o,s,r,a,u,c,m,p,f,_,d;function k(v){n[3](v)}function h(v){n[4](v)}function g(v){n[5](v)}function w(v){n[6](v)}function S(v){n[7](v)}let R={root:!0};n[0].content!==void 0&&(R.content=n[0].content),n[0].children!==void 0&&(R.children=n[0].children),n[0].index!==void 0&&(R.index=n[0].index),n[0].level!==void 0&&(R.level=n[0].level),n[0].focus!==void 0&&(R.focus=n[0].focus),i=new pn({props:R}),Q.push(()=>x(i,"content",k)),Q.push(()=>x(i,"children",h)),Q.push(()=>x(i,"index",g)),Q.push(()=>x(i,"level",w)),Q.push(()=>x(i,"focus",S)),i.$on("saveFocus",n[1]);let j=n[0].columns,M=[];for(let v=0;v<j.length;v+=1)M[v]=Bt(It(n,j,v));const I=v=>A(M[v],1,1,()=>{M[v]=null});let q=n[0].columns,X=[];for(let v=0;v<q.length;v+=1)X[v]=Vt(Et(n,q,v));return{c(){e=F("div"),t=F("div"),l=F("div"),V(i.$$.fragment),c=P(),m=F("div");for(let v=0;v<M.length;v+=1)M[v].c();p=P(),f=F("div");for(let v=0;v<X.length;v+=1)X[v].c();b(l,"class","content svelte-10q6y9h"),b(m,"class","headers svelte-10q6y9h"),b(f,"class","columns svelte-10q6y9h"),b(t,"class","viewer svelte-10q6y9h"),b(e,"class","top svelte-10q6y9h"),b(e,"style",_=`--column-count: ${n[0].columns.length};`),B(e,"invert",n[0].invert)},m(v,D){N(v,e,D),y(e,t),y(t,l),U(i,l,null),y(t,c),y(t,m);for(let W=0;W<M.length;W+=1)M[W].m(m,null);y(t,p),y(t,f);for(let W=0;W<X.length;W+=1)X[W].m(f,null);d=!0},p(v,[D]){const W={};if(!o&&D&1&&(o=!0,W.content=v[0].content,$(()=>o=!1)),!s&&D&1&&(s=!0,W.children=v[0].children,$(()=>s=!1)),!r&&D&1&&(r=!0,W.index=v[0].index,$(()=>r=!1)),!a&&D&1&&(a=!0,W.level=v[0].level,$(()=>a=!1)),!u&&D&1&&(u=!0,W.focus=v[0].focus,$(()=>u=!1)),i.$set(W),D&5){j=v[0].columns;let H;for(H=0;H<j.length;H+=1){const re=It(v,j,H);M[H]?(M[H].p(re,D),L(M[H],1)):(M[H]=Bt(re),M[H].c(),L(M[H],1),M[H].m(m,null))}for(ue(),H=j.length;H<M.length;H+=1)I(H);fe()}if(D&1){q=v[0].columns;let H;for(H=0;H<q.length;H+=1){const re=Et(v,q,H);X[H]?X[H].p(re,D):(X[H]=Vt(re),X[H].c(),X[H].m(f,null))}for(;H<X.length;H+=1)X[H].d(1);X.length=q.length}(!d||D&1&&_!==(_=`--column-count: ${v[0].columns.length};`))&&b(e,"style",_),D&1&&B(e,"invert",v[0].invert)},i(v){if(!d){L(i.$$.fragment,v);for(let D=0;D<j.length;D+=1)L(M[D]);d=!0}},o(v){A(i.$$.fragment,v),M=M.filter(Boolean);for(let D=0;D<M.length;D+=1)A(M[D]);d=!1},d(v){v&&O(e),z(i),We(M,v),We(X,v)}}}function wl(n,e,t){let{root:l}=e;yt("invert",()=>l.invert),yt("columnCount",()=>l.columns.length);function i(f){t(0,l.lastFocus=f.detail,l),t(0,l)}function o(f){let _=l,d=0,k=[..._.children],h={content:"",children:[],index:0,level:1,focus:!1,empty:!0};if(f==0)h.focus=!0,h.empty=!1;else{let g=h;for(let w=0;w<f;w++)g.children=[{content:"",children:[],index:0,level:w+2,focus:w==f-1,empty:w!=f-1}],g=g.children[0]}k.splice(0,0,h);for(let g=d;g<k.length;g++)k[g].index=g;_.children=[...k],t(0,l=_)}function s(f){n.$$.not_equal(l.content,f)&&(l.content=f,t(0,l))}function r(f){n.$$.not_equal(l.children,f)&&(l.children=f,t(0,l))}function a(f){n.$$.not_equal(l.index,f)&&(l.index=f,t(0,l))}function u(f){n.$$.not_equal(l.level,f)&&(l.level=f,t(0,l))}function c(f){n.$$.not_equal(l.focus,f)&&(l.focus=f,t(0,l))}const m=f=>o(f);function p(f){Me.call(this,n,f)}return n.$$set=f=>{"root"in f&&t(0,l=f.root)},[l,i,o,s,r,a,u,c,m,p]}class yl extends le{constructor(e){super();ie(this,e,wl,kl,ee,{root:0})}}function Sl(n){let e,t;const l=n[1].default,i=ot(l,n,n[0],null);return{c(){e=F("div"),i&&i.c(),b(e,"class","top svelte-p5tbxi")},m(o,s){N(o,e,s),i&&i.m(e,null),t=!0},p(o,[s]){i&&i.p&&(!t||s&1)&&st(i,l,o,o[0],t?rt(l,o[0],s,null):at(o[0]),null)},i(o){t||(L(i,o),t=!0)},o(o){A(i,o),t=!1},d(o){o&&O(e),i&&i.d(o)}}}function Fl(n,e,t){let{$$slots:l={},$$scope:i}=e;return n.$$set=o=>{"$$scope"in o&&t(0,i=o.$$scope)},[i,l]}class ut extends le{constructor(e){super();ie(this,e,Fl,Sl,ee,{})}}function Cl(n){let e,t;return e=new ae({props:{icon:"delete",tooltip:"delete flow"}}),e.$on("click",function(){bt(n[3])&&n[3].apply(this,arguments)}),{c(){V(e.$$.fragment)},m(l,i){U(e,l,i),t=!0},p(l,i){n=l},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function Ll(n){let e,t,l,i,o,s,r,a,u;function c(p){n[12](p)}let m={nowrap:!0,placeholder:"type name here"};return n[1]!==void 0&&(m.value=n[1]),i=new kt({props:m}),Q.push(()=>x(i,"value",c)),n[13](i),i.$on("blur",n[6]),i.$on("focus",n[7]),i.$on("keydown",n[8]),i.$on("beforeinput",n[9]),r=new ut({props:{$$slots:{default:[Cl]},$$scope:{ctx:n}}}),{c(){e=F("div"),t=F("div"),l=F("div"),V(i.$$.fragment),s=P(),V(r.$$.fragment),b(l,"class","text svelte-1ys6vmc"),B(l,"focus",n[0]),b(t,"class",a=se(`content palette-${n[5]}`)+" svelte-1ys6vmc"),b(e,"class",se("top")+" svelte-1ys6vmc"),B(e,"invert",n[2])},m(p,f){N(p,e,f),y(e,t),y(t,l),U(i,l,null),y(t,s),U(r,t,null),u=!0},p(p,[f]){const _={};!o&&f&2&&(o=!0,_.value=p[1],$(()=>o=!1)),i.$set(_),f&1&&B(l,"focus",p[0]);const d={};f&1048584&&(d.$$scope={dirty:f,ctx:p}),r.$set(d),(!u||f&32&&a!==(a=se(`content palette-${p[5]}`)+" svelte-1ys6vmc"))&&b(t,"class",a),f&4&&B(e,"invert",p[2])},i(p){u||(L(i.$$.fragment,p),L(r.$$.fragment,p),u=!0)},o(p){A(i.$$.fragment,p),A(r.$$.fragment,p),u=!1},d(p){p&&O(e),n[13](null),z(i),z(r)}}}function Ml(n,e,t){let l,i,o;ge(n,Re,M=>t(16,i=M)),ge(n,ne,M=>t(17,o=M));const s=it();let{content:r}=e,{children:a}=e,{index:u}=e,{focus:c}=e,{invert:m}=e,{deleteSelf:p=()=>{}}=e,f;function _(){c&&t(0,c=!1)}function d(){c||t(0,c=!0)}function k(M){if((M.key=="Enter"||M.key=="ArrowDown")&&(M.preventDefault(),a.length>0)){for(let I of a)if(!I.empty){I.focus=!0,t(0,c=!1);break}}}let h=!1;function g(){c?(o[i].history.addFocus([...l]),s("saveFocus",l),ce(ne,o[i].lastFocus=[...l],o),ne.set(o),f&&f.focus()):h=!1}vt(g);function w(M){h||o[i].history.addPending("edit",[...l],{lastContent:r,getNextContent(){return r},createEditBreak(){h=!1}}),h=!0}let S="plain";function R(M){r=M,t(1,r)}function j(M){Q[M?"unshift":"push"](()=>{f=M,t(4,f)})}return n.$$set=M=>{"content"in M&&t(1,r=M.content),"children"in M&&t(10,a=M.children),"index"in M&&t(11,u=M.index),"focus"in M&&t(0,c=M.focus),"invert"in M&&t(2,m=M.invert),"deleteSelf"in M&&t(3,p=M.deleteSelf)},n.$$.update=()=>{n.$$.dirty&2048&&(l=[u]),n.$$.dirty&1&&g(),n.$$.dirty&4&&(m?t(5,S="accent-secondary"):t(5,S="accent"))},[c,r,m,p,f,S,_,d,k,w,a,u,R,j]}class Tl extends le{constructor(e){super();ie(this,e,Ml,Ll,ee,{content:1,children:10,index:11,focus:0,invert:2,deleteSelf:3})}}function Al(n){let e,t,l,i,o,s,r,a,u,c,m,p;return e=new ae({props:{icon:"undo",disabled:n[0].history.index==-1,tooltip:"undo",shortcut:["command","z"],disabledReason:"nothing to undo"}}),e.$on("click",n[5]),l=new ae({props:{disabled:n[0].history.index==n[0].history.data.length-1,icon:"redo",tooltip:"redo",shortcut:["command","shift","z"],disabledReason:"nothing to redo"}}),l.$on("click",n[6]),o=new ae({props:{icon:"addRight",disabled:!n[1],disabledReason:tt,tooltip:"add response",shortcut:["shift","return"]}}),o.$on("click",n[3]),r=new ae({props:{icon:"addUp",disabled:!n[1],disabledReason:tt,tooltip:"add arguement above"}}),r.$on("click",n[7]),u=new ae({props:{icon:"addDown",disabled:!n[1],disabledReason:tt,tooltip:"add arguement below",shortcut:["return"]}}),u.$on("click",n[8]),m=new ae({props:{icon:"delete",disabled:!n[1],disabledReason:tt,tooltip:"delete selected"}}),m.$on("click",n[2]),{c(){V(e.$$.fragment),t=P(),V(l.$$.fragment),i=P(),V(o.$$.fragment),s=P(),V(r.$$.fragment),a=P(),V(u.$$.fragment),c=P(),V(m.$$.fragment)},m(f,_){U(e,f,_),N(f,t,_),U(l,f,_),N(f,i,_),U(o,f,_),N(f,s,_),U(r,f,_),N(f,a,_),U(u,f,_),N(f,c,_),U(m,f,_),p=!0},p(f,_){const d={};_&1&&(d.disabled=f[0].history.index==-1),e.$set(d);const k={};_&1&&(k.disabled=f[0].history.index==f[0].history.data.length-1),l.$set(k);const h={};_&2&&(h.disabled=!f[1]),o.$set(h);const g={};_&2&&(g.disabled=!f[1]),r.$set(g);const w={};_&2&&(w.disabled=!f[1]),u.$set(w);const S={};_&2&&(S.disabled=!f[1]),m.$set(S)},i(f){p||(L(e.$$.fragment,f),L(l.$$.fragment,f),L(o.$$.fragment,f),L(r.$$.fragment,f),L(u.$$.fragment,f),L(m.$$.fragment,f),p=!0)},o(f){A(e.$$.fragment,f),A(l.$$.fragment,f),A(o.$$.fragment,f),A(r.$$.fragment,f),A(u.$$.fragment,f),A(m.$$.fragment,f),p=!1},d(f){z(e,f),f&&O(t),z(l,f),f&&O(i),z(o,f),f&&O(s),z(r,f),f&&O(a),z(u,f),f&&O(c),z(m,f)}}}function ql(n){let e,t,l,i,o,s;return l=new ut({props:{$$slots:{default:[Al]},$$scope:{ctx:n}}}),{c(){e=F("div"),t=F("div"),V(l.$$.fragment),b(t,"class","buttons-wrapper svelte-psed4t"),b(e,"class","top svelte-psed4t")},m(r,a){N(r,e,a),y(e,t),U(l,t,null),i=!0,o||(s=K(e,"mousedown",Rl),o=!0)},p(r,[a]){const u={};a&2051&&(u.$$scope={dirty:a,ctx:r}),l.$set(u)},i(r){i||(L(l.$$.fragment,r),i=!0)},o(r){A(l.$$.fragment,r),i=!1},d(r){r&&O(e),z(l),o=!1,s()}}}let tt="no cell selected";function Rl(n){n.preventDefault()}function Dl(n,e,t){var l=this&&this.__awaiter||function(_,d,k,h){function g(w){return w instanceof k?w:new k(function(S){S(w)})}return new(k||(k=Promise))(function(w,S){function R(I){try{M(h.next(I))}catch(q){S(q)}}function j(I){try{M(h.throw(I))}catch(q){S(q)}}function M(I){I.done?w(I.value):g(I.value).then(R,j)}M((h=h.apply(_,d||[])).next())})};let{flow:i}=e,o=!1;function s(){return l(this,void 0,void 0,function*(){if(yield Ke(),i.lastFocus&&i.lastFocus.length>1){let _=ye(i.lastFocus);t(1,o=_==null?void 0:_.focus)}})}fn(function(){s()});function r(){return l(this,void 0,void 0,function*(){if(!o)return;let _=ye(i.lastFocus,1),d=ye(i.lastFocus),k=[..._.children];if(k.length>1||_.level>=1){i.history.add("delete",i.lastFocus,{box:k[d.index]}),k[d.index].focus=!1,_.children=[...k],t(0,i),yield Ke(),k.splice(d.index,1);for(let h=d.index;h<k.length;h++)k[h].index=h;k.length<=0?_.focus=!0:d.index>=k.length?k[k.length-1].focus=!0:k[d.index].focus=!0,_.children=[...k],t(0,i)}})}function a(){if(!o)return;let _=ye(i.lastFocus),d=[..._.children];if(_.level<i.columns.length){d.splice(0,0,$e(0,_.level+1,!1));for(let k=0;k<d.length;k++)d[k].index=k;i.history.add("add",[...i.lastFocus,0]),_.children=[...d],t(0,i)}}function u(_){if(!o)return;let d=ye(i.lastFocus,1),k=ye(i.lastFocus),h=[...d.children];h.splice(k.index+_,0,$e(k.index+_,k.level,!1));for(let w=k.index;w<h.length;w++)h[w].index=w;let g=[...i.lastFocus];_==0?(g[g.length-1]-=0,t(0,i.lastFocus[i.lastFocus.length-1]+=1,i)):g[g.length-1]+=1,i.history.add("add",g),d.children=[...h],t(0,i)}const c=()=>i.history.undo(),m=()=>i.history.redo(),p=()=>u(0),f=()=>u(1);return n.$$set=_=>{"flow"in _&&t(0,i=_.flow)},[i,o,r,a,u,c,m,p,f]}class Nl extends le{constructor(e){super();ie(this,e,Dl,ql,ee,{flow:0})}}function Ol(n){let e,t,l,i,o,s,r,a,u,c;l=new ae({props:{icon:"delete",tooltip:"close"}}),l.$on("click",function(){bt(n[2])&&n[2].apply(this,arguments)});const m=[{closePopup:n[2]},n[1]];var p=n[0];function f(_){let d={};for(let k=0;k<m.length;k+=1)d=Mn(d,m[k]);return{props:d}}return p&&(o=new p(f())),{c(){e=F("div"),t=F("div"),V(l.$$.fragment),i=P(),o&&V(o.$$.fragment),b(t,"class","close svelte-xzcwlv"),b(e,"class","top svelte-xzcwlv")},m(_,d){N(_,e,d),y(e,t),U(l,t,null),y(e,i),o&&U(o,e,null),a=!0,u||(c=K(window,"keydown",n[3]),u=!0)},p(_,[d]){n=_;const k=d&6?Cn(m,[d&4&&{closePopup:n[2]},d&2&&Ln(n[1])]):{};if(p!==(p=n[0])){if(o){ue();const h=o;A(h.$$.fragment,1,0,()=>{z(h,1)}),fe()}p?(o=new p(f()),V(o.$$.fragment),L(o.$$.fragment,1),U(o,e,null)):o=null}else p&&o.$set(k)},i(_){a||(L(l.$$.fragment,_),o&&L(o.$$.fragment,_),De(()=>{r&&r.end(1),s=Ue(e,Zn,{}),s.start()}),a=!0)},o(_){A(l.$$.fragment,_),o&&A(o.$$.fragment,_),s&&s.invalidate(),r=ze(e,$n,{}),a=!1},d(_){_&&O(e),z(l),o&&z(o),_&&r&&r.end(),u=!1,c()}}}function Pl(n,e,t){let{component:l}=e,{props:i={}}=e,{closeSelf:o}=e;function s(r){r.key==="Escape"&&o()}return n.$$set=r=>{"component"in r&&t(0,l=r.component),"props"in r&&t(1,i=r.props),"closeSelf"in r&&t(2,o=r.closeSelf)},[l,i,o,s]}class Hl extends le{constructor(e){super();ie(this,e,Pl,Ol,ee,{component:0,props:1,closeSelf:2})}}function jl(n){let e,t,l,i,o,s,r,a,u,c,m;return l=new ae({props:{icon:"download",text:"download as JSON",tooltip:"saves JSON file on your computer",tooltipLayout:"top",disabled:n[0].length==0,disabledReason:"nothing to download"}}),l.$on("click",n[1]),a=new ae({props:{icon:"download",text:"download as XLSX",tooltip:"saves XLSX file on your computer",tooltipLayout:"top",disabled:n[0].length==0,disabledReason:"nothing to download"}}),a.$on("click",n[2]),{c(){e=F("div"),t=F("section"),V(l.$$.fragment),i=P(),o=F("ul"),o.innerHTML=`<li>Can reopen file in this editor</li> 
      <li>More data is saved (last focused cell etc.)</li>`,s=P(),r=F("section"),V(a.$$.fragment),u=P(),c=F("ul"),c.innerHTML="<li>Anyone can view it</li>",b(o,"class","svelte-87ygo3"),b(t,"class","json svelte-87ygo3"),b(c,"class","svelte-87ygo3"),b(r,"class","xlsx svelte-87ygo3"),b(e,"class","top svelte-87ygo3")},m(p,f){N(p,e,f),y(e,t),U(l,t,null),y(t,i),y(t,o),y(e,s),y(e,r),U(a,r,null),y(r,u),y(r,c),m=!0},p(p,[f]){const _={};f&1&&(_.disabled=p[0].length==0),l.$set(_);const d={};f&1&&(d.disabled=p[0].length==0),a.$set(d)},i(p){m||(L(l.$$.fragment,p),L(a.$$.fragment,p),m=!0)},o(p){A(l.$$.fragment,p),A(a.$$.fragment,p),m=!1},d(p){p&&O(e),z(l),z(a)}}}function El(n,e,t){let l,i;ge(n,ne,a=>t(0,l=a)),ge(n,Ve,a=>t(4,i=a));let{closePopup:o}=e;function s(){ce(Ve,i=!0,i);let a=JSON.stringify(l,(c,m)=>{if(c!=="history")return m}),u=document.createElement("a");u.setAttribute("href","data:text/json;charset=utf-8, "+encodeURIComponent(a)),u.setAttribute("download","flow.json"),document.body.appendChild(u),u.click(),document.body.removeChild(u),o()}function r(){ce(Ve,i=!0,i);let a=new Tn.exports.Workbook;for(let u of l){let m=function(_,d,k){let h=0;for(let g of _.children)h+=m(g,d+1,k+h);for(;!c[k];){let g=Array.from({length:u.columns.length},()=>"");c.push(g)}return d>=0&&(c[k][d]=_.content),Math.max(1,h)},c=[];m(u,-1,0);let p=u.content;p.length>=31&&(p=p.substring(0,31));let f=a.addWorksheet(p);f.columns=u.columns.map(function(_){return{header:_,width:25}});for(let _=0;_<c.length;_++){let d=f.getRow(_+2);for(let k=0;k<c[_].length;k++){let h="FFFFCCCC",g="FFFF9999";(k%2==0&&!u.invert||k%2==1&&u.invert)&&(h="FFCCE5FF",g="FF99CCFF");let w=d.getCell(k+1);w.value=c[_][k],w.fill={type:"pattern",pattern:"solid",fgColor:{argb:h}},w.border={top:{style:"thin",color:{argb:g}},left:{style:"thin",color:{argb:g}},bottom:{style:"thin",color:{argb:g}},right:{style:"thin",color:{argb:g}}},w.alignment={wrapText:!0}}}f.getRow(1).font={bold:!0}}a.xlsx.writeBuffer().then(function(u){let c=document.createElement("a"),m=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),p=URL.createObjectURL(m);c.href=p,c.download="flow.xlsx",document.body.appendChild(c),c.click(),setTimeout(function(){document.body.removeChild(c),window.URL.revokeObjectURL(p)},0)}).catch(function(u){console.log(u.message)}),o()}return n.$$set=a=>{"closePopup"in a&&t(3,o=a.closePopup)},[l,s,r,o]}class Il extends le{constructor(e){super();ie(this,e,El,jl,ee,{closePopup:3})}}function Bl(n){let e,t,l,i,o;return t=new ae({props:{icon:"upload",text:"choose file from computer",tooltip:"upload a JSON file from your computer",tooltipLayout:"top"}}),t.$on("click",n[0]),{c(){e=F("div"),V(t.$$.fragment),l=P(),i=F("p"),i.textContent="Or drag and drop a JSON file anywhere in this window",b(i,"class","svelte-1vv9x21"),b(e,"class","top svelte-1vv9x21")},m(s,r){N(s,e,r),U(t,e,null),y(e,l),y(e,i),o=!0},p:te,i(s){o||(L(t.$$.fragment,s),o=!0)},o(s){A(t.$$.fragment,s),o=!1},d(s){s&&O(e),z(t)}}}function Vl(n,e,t){let{closePopup:l}=e;function i(){document.getElementById("uploadId").click(),l()}return n.$$set=o=>{"closePopup"in o&&t(1,l=o.closePopup)},[i,l]}class Ul extends le{constructor(e){super();ie(this,e,Vl,Bl,ee,{closePopup:1})}}function zl(n){let e,t,l,i,o;return{c(){e=F("div"),t=F("p"),l=F("strong"),l.textContent="Error:",i=P(),o=me(n[0]),b(t,"class","svelte-wxhj3v"),b(e,"class","top svelte-wxhj3v")},m(s,r){N(s,e,r),y(e,t),y(t,l),y(t,i),y(t,o)},p(s,[r]){r&1&&Se(o,s[0])},i:te,o:te,d(s){s&&O(e)}}}function Kl(n,e,t){let{closePopup:l}=e,{message:i=""}=e;return n.$$set=o=>{"closePopup"in o&&t(1,l=o.closePopup),"message"in o&&t(0,i=o.message)},[i,l]}class Wl extends le{constructor(e){super();ie(this,e,Kl,zl,ee,{closePopup:1,message:0})}}function Jl(n){let e,t,l,i,o,s,r;return{c(){e=F("label"),t=F("input"),l=P(),i=F("div"),i.innerHTML='<div class="switch svelte-8bq301"></div>',b(t,"type","checkbox"),b(t,"class","svelte-8bq301"),b(i,"class","background svelte-8bq301"),b(e,"class",o=se(`palette-${n[1]}`)+" svelte-8bq301")},m(a,u){N(a,e,u),y(e,t),t.checked=n[0],y(e,l),y(e,i),s||(r=K(t,"change",n[3]),s=!0)},p(a,[u]){u&1&&(t.checked=a[0]),u&2&&o!==(o=se(`palette-${a[1]}`)+" svelte-8bq301")&&b(e,"class",o)},i:te,o:te,d(a){a&&O(e),s=!1,r()}}}function Xl(n,e,t){let{value:l=!0}=e,{auto:i=!0}=e,o;function s(){l=this.checked,t(0,l)}return n.$$set=r=>{"value"in r&&t(0,l=r.value),"auto"in r&&t(2,i=r.auto)},n.$$.update=()=>{n.$$.dirty&5&&(l?l==i?t(1,o="accent-secondary"):t(1,o="accent"):t(1,o="plain"))},[l,o,i,s]}class Gl extends le{constructor(e){super();ie(this,e,Xl,Jl,ee,{value:0,auto:2})}}function Ut(n,e,t){const l=n.slice();return l[12]=e[t],l[14]=t,l}function zt(n){let e;return{c(){e=F("p"),e.textContent="default",b(e,"class","option-info svelte-ac5xa2")},m(t,l){N(t,e,l)},d(t){t&&O(e)}}}function Kt(n){let e,t,l,i,o,s,r,a=n[12]+"",u,c,m,p,f=n[14]==n[3]&&zt();return{c(){e=F("label"),t=F("input"),o=P(),s=F("li"),r=F("p"),u=me(a),c=P(),f&&f.c(),b(t,"type","radio"),b(t,"name",n[2]),t.checked=l=n[14]==n[0],t.__value=i=n[14],t.value=t.__value,b(t,"class","svelte-ac5xa2"),n[7][0].push(t),b(r,"class","svelte-ac5xa2"),b(s,"class","svelte-ac5xa2"),b(e,"class","svelte-ac5xa2")},m(_,d){N(_,e,d),y(e,t),t.checked=t.__value===n[0],y(e,o),y(e,s),y(s,r),y(r,u),y(s,c),f&&f.m(s,null),m||(p=K(t,"change",n[6]),m=!0)},p(_,d){d&4&&b(t,"name",_[2]),d&1&&l!==(l=_[14]==_[0])&&(t.checked=l),d&1&&(t.checked=t.__value===_[0]),d&2&&a!==(a=_[12]+"")&&Se(u,a),_[14]==_[3]?f||(f=zt(),f.c(),f.m(s,null)):f&&(f.d(1),f=null)},d(_){_&&O(e),n[7][0].splice(n[7][0].indexOf(t),1),f&&f.d(),m=!1,p()}}}function Wt(n){let e,t,l,i,o,s,r,a,u,c,m,p;function f(k){n[9](k)}let _={placeholder:"custom",nowrap:!0};n[1].customOptionValue!==void 0&&(_.value=n[1].customOptionValue),r=new kt({props:_}),Q.push(()=>x(r,"value",f)),r.$on("input",n[10]),r.$on("focus",n[11]);let d=n[1].customOptionValue!=""&&Jt();return{c(){e=F("label"),t=F("input"),o=P(),s=F("li"),V(r.$$.fragment),u=P(),d&&d.c(),b(t,"type","radio"),b(t,"name",n[2]),t.checked=l=n[0]==n[1].options.length,t.__value=i=n[1].options.length,t.value=t.__value,b(t,"class","svelte-ac5xa2"),n[7][0].push(t),b(s,"class","svelte-ac5xa2"),b(e,"class","svelte-ac5xa2")},m(k,h){N(k,e,h),y(e,t),t.checked=t.__value===n[0],y(e,o),y(e,s),U(r,s,null),y(s,u),d&&d.m(s,null),c=!0,m||(p=K(t,"change",n[8]),m=!0)},p(k,h){(!c||h&4)&&b(t,"name",k[2]),(!c||h&3&&l!==(l=k[0]==k[1].options.length))&&(t.checked=l),(!c||h&2&&i!==(i=k[1].options.length))&&(t.__value=i,t.value=t.__value),h&1&&(t.checked=t.__value===k[0]);const g={};!a&&h&2&&(a=!0,g.value=k[1].customOptionValue,$(()=>a=!1)),r.$set(g),k[1].customOptionValue!=""?d||(d=Jt(),d.c(),d.m(s,null)):d&&(d.d(1),d=null)},i(k){c||(L(r.$$.fragment,k),c=!0)},o(k){A(r.$$.fragment,k),c=!1},d(k){k&&O(e),n[7][0].splice(n[7][0].indexOf(t),1),z(r),d&&d.d(),m=!1,p()}}}function Jt(n){let e;return{c(){e=F("p"),e.textContent="custom",b(e,"class","option-info svelte-ac5xa2")},m(t,l){N(t,e,l)},d(t){t&&O(e)}}}function Yl(n){let e,t,l,i,o,s,r,a,u,c=n[1].options,m=[];for(let f=0;f<c.length;f+=1)m[f]=Kt(Ut(n,c,f));let p=n[1].customOption&&Wt(n);return{c(){e=F("div"),t=F("div"),l=F("div"),o=P(),s=F("ul");for(let f=0;f<m.length;f+=1)m[f].c();r=P(),p&&p.c(),b(l,"class","switch svelte-ac5xa2"),b(l,"style",i=`--pos:calc(${n[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`),b(t,"class","background svelte-ac5xa2"),b(s,"class","svelte-ac5xa2"),b(e,"class",a=se(`top palette-${n[4]}`)+" svelte-ac5xa2")},m(f,_){N(f,e,_),y(e,t),y(t,l),y(e,o),y(e,s);for(let d=0;d<m.length;d+=1)m[d].m(s,null);y(s,r),p&&p.m(s,null),u=!0},p(f,[_]){if((!u||_&1&&i!==(i=`--pos:calc(${f[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`))&&b(l,"style",i),_&15){c=f[1].options;let d;for(d=0;d<c.length;d+=1){const k=Ut(f,c,d);m[d]?m[d].p(k,_):(m[d]=Kt(k),m[d].c(),m[d].m(s,r))}for(;d<m.length;d+=1)m[d].d(1);m.length=c.length}f[1].customOption?p?(p.p(f,_),_&2&&L(p,1)):(p=Wt(f),p.c(),L(p,1),p.m(s,null)):p&&(ue(),A(p,1,1,()=>{p=null}),fe()),(!u||_&16&&a!==(a=se(`top palette-${f[4]}`)+" svelte-ac5xa2"))&&b(e,"class",a)},i(f){u||(L(p),u=!0)},o(f){A(p),u=!1},d(f){f&&O(e),We(m,f),p&&p.d()}}}function Ql(n,e,t){let l,{name:i}=e,{value:o}=e,{auto:s}=e;const r=it();let{detail:a}=e;const u=[[]];function c(){o=this.__value,t(0,o)}function m(){o=this.__value,t(0,o)}function p(d){n.$$.not_equal(a.customOptionValue,d)&&(a.customOptionValue=d,t(1,a))}const f=()=>r("forceUpdate"),_=()=>t(0,o=a.options.length);return n.$$set=d=>{"name"in d&&t(2,i=d.name),"value"in d&&t(0,o=d.value),"auto"in d&&t(3,s=d.auto),"detail"in d&&t(1,a=d.detail)},n.$$.update=()=>{n.$$.dirty&9&&t(4,l=s==o?"accent-secondary":"accent")},[o,a,i,s,l,r,c,u,m,p,f,_]}class Zl extends le{constructor(e){super();ie(this,e,Ql,Yl,ee,{name:2,value:0,auto:3,detail:1})}}function $l(n){let e,t,l,i,o,s,r,a,u,c,m,p,f,_,d,k;return{c(){e=F("div"),t=F("label"),l=F("div"),o=P(),s=F("input"),c=P(),m=F("label"),p=F("input"),b(l,"class","switch svelte-46rqx9"),b(l,"style",i=`
      left: calc(var(--padding-small) + ${(Math.max(Math.min(n[0],n[1].max),n[1].min)-n[1].min)/(n[1].max-n[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${n[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`),b(s,"class","slider svelte-46rqx9"),b(s,"type","range"),b(s,"min",r=n[1].min),b(s,"max",a=n[1].max),b(s,"step",u=n[1].step),b(t,"class","svelte-46rqx9"),b(p,"type","number"),b(p,"class","svelte-46rqx9"),b(m,"class","small svelte-46rqx9"),b(e,"class",f=se(`top palette-${n[3]}`)+" svelte-46rqx9"),b(e,"style",_=`--value: ${n[0]}`),B(e,"hue",n[1].hue)},m(h,g){N(h,e,g),y(e,t),y(t,l),y(t,o),y(t,s),Be(s,n[0]),y(e,c),y(e,m),y(m,p),Be(p,n[0]),d||(k=[K(s,"change",n[8]),K(s,"input",n[8]),K(p,"input",n[9]),K(e,"mousedown",n[4]),K(e,"mousemove",n[5]),K(e,"mouseup",n[6])],d=!0)},p(h,[g]){g&7&&i!==(i=`
      left: calc(var(--padding-small) + ${(Math.max(Math.min(h[0],h[1].max),h[1].min)-h[1].min)/(h[1].max-h[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${h[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`)&&b(l,"style",i),g&2&&r!==(r=h[1].min)&&b(s,"min",r),g&2&&a!==(a=h[1].max)&&b(s,"max",a),g&2&&u!==(u=h[1].step)&&b(s,"step",u),g&1&&Be(s,h[0]),g&1&&mt(p.value)!==h[0]&&Be(p,h[0]),g&8&&f!==(f=se(`top palette-${h[3]}`)+" svelte-46rqx9")&&b(e,"class",f),g&1&&_!==(_=`--value: ${h[0]}`)&&b(e,"style",_),g&10&&B(e,"hue",h[1].hue)},i:te,o:te,d(h){h&&O(e),d=!1,Te(k)}}}function xl(n,e,t){let l,{value:i}=e,{auto:o}=e,{detail:s}=e,r=!1,a=!1,u=0;function c(d){r=!0,u=d.pageX,t(2,a=!1)}function m(d){r&&Math.abs(u-d.pageX)>3&&t(2,a=!0)}function p(d){r=!1,t(2,a=!1)}function f(){i=mt(this.value),t(0,i)}function _(){i=mt(this.value),t(0,i)}return n.$$set=d=>{"value"in d&&t(0,i=d.value),"auto"in d&&t(7,o=d.auto),"detail"in d&&t(1,s=d.detail)},n.$$.update=()=>{n.$$.dirty&129&&t(3,l=o==i?"accent-secondary":"accent")},[i,s,a,l,c,m,p,o,f,_]}class ei extends le{constructor(e){super();ie(this,e,xl,$l,ee,{value:0,auto:7,detail:1})}}function Xt(n){let e,t,l;function i(s){n[9](s)}let o={auto:n[0].auto};return n[1]!==void 0&&(o.value=n[1]),e=new Gl({props:o}),Q.push(()=>x(e,"value",i)),{c(){V(e.$$.fragment)},m(s,r){U(e,s,r),l=!0},p(s,r){const a={};r&1&&(a.auto=s[0].auto),!t&&r&2&&(t=!0,a.value=s[1],$(()=>t=!1)),e.$set(a)},i(s){l||(L(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){z(e,s)}}}function Gt(n){let e,t=n[0].info+"",l;return{c(){e=F("p"),l=me(t),b(e,"class","svelte-1il06s5")},m(i,o){N(i,e,o),y(e,l)},p(i,o){o&1&&t!==(t=i[0].info+"")&&Se(l,t)},d(i){i&&O(e)}}}function Yt(n){let e,t,l;function i(s){n[10](s)}let o={name:n[0].name,auto:n[0].auto,detail:n[0].detail};return n[1]!==void 0&&(o.value=n[1]),e=new Zl({props:o}),Q.push(()=>x(e,"value",i)),e.$on("forceUpdate",n[11]),{c(){V(e.$$.fragment)},m(s,r){U(e,s,r),l=!0},p(s,r){const a={};r&1&&(a.name=s[0].name),r&1&&(a.auto=s[0].auto),r&1&&(a.detail=s[0].detail),!t&&r&2&&(t=!0,a.value=s[1],$(()=>t=!1)),e.$set(a)},i(s){l||(L(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){z(e,s)}}}function Qt(n){let e,t,l;function i(s){n[12](s)}let o={auto:n[0].auto,detail:n[0].detail};return n[1]!==void 0&&(o.value=n[1]),e=new ei({props:o}),Q.push(()=>x(e,"value",i)),{c(){V(e.$$.fragment)},m(s,r){U(e,s,r),l=!0},p(s,r){const a={};r&1&&(a.auto=s[0].auto),r&1&&(a.detail=s[0].detail),!t&&r&2&&(t=!0,a.value=s[1],$(()=>t=!1)),e.$set(a)},i(s){l||(L(e.$$.fragment,s),l=!0)},o(s){A(e.$$.fragment,s),l=!1},d(s){z(e,s)}}}function ti(n){let e,t,l,i=n[0].name+"",o,s,r,a,u,c,m,p,f,_;a=new ae({props:{icon:"delete",tooltip:"reset to default",tooltipLayout:"right"}}),a.$on("click",n[6]);let d=n[0].type=="toggle"&&Xt(n),k=n[0].info&&Gt(n),h=n[0].type=="radio"&&Yt(n),g=n[0].type=="slider"&&Qt(n);return{c(){e=F("div"),t=F("span"),l=F("h1"),o=me(i),s=P(),r=F("div"),V(a.$$.fragment),u=P(),d&&d.c(),c=P(),k&&k.c(),m=P(),h&&h.c(),p=P(),g&&g.c(),b(l,"class","svelte-1il06s5"),b(r,"class","reset svelte-1il06s5"),B(r,"hidden",n[1]==n[0].auto),b(t,"class","above svelte-1il06s5"),b(e,"class","top svelte-1il06s5"),b(e,"style",f=`--spotlight:${n[4]}`)},m(w,S){N(w,e,S),y(e,t),y(t,l),y(l,o),y(t,s),y(t,r),U(a,r,null),y(t,u),d&&d.m(t,null),y(t,c),k&&k.m(t,null),y(e,m),h&&h.m(e,null),y(e,p),g&&g.m(e,null),n[13](e),_=!0},p(w,[S]){(!_||S&1)&&i!==(i=w[0].name+"")&&Se(o,i),S&3&&B(r,"hidden",w[1]==w[0].auto),w[0].type=="toggle"?d?(d.p(w,S),S&1&&L(d,1)):(d=Xt(w),d.c(),L(d,1),d.m(t,c)):d&&(ue(),A(d,1,1,()=>{d=null}),fe()),w[0].info?k?k.p(w,S):(k=Gt(w),k.c(),k.m(t,null)):k&&(k.d(1),k=null),w[0].type=="radio"?h?(h.p(w,S),S&1&&L(h,1)):(h=Yt(w),h.c(),L(h,1),h.m(e,p)):h&&(ue(),A(h,1,1,()=>{h=null}),fe()),w[0].type=="slider"?g?(g.p(w,S),S&1&&L(g,1)):(g=Qt(w),g.c(),L(g,1),g.m(e,null)):g&&(ue(),A(g,1,1,()=>{g=null}),fe()),(!_||S&16&&f!==(f=`--spotlight:${w[4]}`))&&b(e,"style",f)},i(w){_||(L(a.$$.fragment,w),L(d),L(h),L(g),_=!0)},o(w){A(a.$$.fragment,w),A(d),A(h),A(g),_=!1},d(w){w&&O(e),z(a),d&&d.d(),k&&k.d(),h&&h.d(),g&&g.d(),n[13](null)}}}function ni(n,e,t){let l,i=te,o=()=>(i(),i=An(m,w=>t(4,l=w)),m);n.$$.on_destroy.push(()=>i());let{setting:s}=e,{key:r}=e,a=s.value;function u(w){G.setValue(r,w),w=s.value}function c(){G.setValue(r,s.auto),t(1,a=s.value)}je(G.subscribe([r],function(w){s.value!=a&&t(1,a=s.value)}));let m=St(0);o();let p;function f(){p.scrollIntoView({block:"center"}),o(t(2,m=St(1,{duration:2e3}))),ce(m,l=0,l)}function _(w){a=w,t(1,a)}function d(w){a=w,t(1,a)}const k=()=>u(a);function h(w){a=w,t(1,a)}function g(w){Q[w?"unshift":"push"](()=>{p=w,t(3,p)})}return n.$$set=w=>{"setting"in w&&t(0,s=w.setting),"key"in w&&t(7,r=w.key)},n.$$.update=()=>{n.$$.dirty&2&&u(a)},[s,a,m,p,l,u,c,r,f,_,d,k,h,g]}class li extends le{constructor(e){super();ie(this,e,ni,ti,ee,{setting:0,key:7,scrollToSelf:8})}get scrollToSelf(){return this.$$.ctx[8]}}function Zt(n,e,t){const l=n.slice();return l[7]=e[t],l[8]=e,l[9]=t,l}function $t(n,e,t){const l=n.slice();return l[7]=e[t],l[9]=t,l}function xt(n){let e,t,l=G.data[n[7]].name+"",i,o,s,r;function a(){return n[3](n[9])}return{c(){e=F("li"),t=F("button"),i=me(l),o=P(),b(t,"class","svelte-1r275ni")},m(u,c){N(u,e,c),y(e,t),y(t,i),y(e,o),s||(r=K(t,"click",a),s=!0)},p(u,c){n=u},d(u){u&&O(e),s=!1,r()}}}function ii(n){let e,t,l,i;return e=new ae({props:{icon:"delete",text:"reset all settings"}}),e.$on("click",n[4]),l=new ae({props:{icon:"dots",text:"randomize settings",tooltip:"why would you click this"}}),l.$on("click",n[5]),{c(){V(e.$$.fragment),t=P(),V(l.$$.fragment)},m(o,s){U(e,o,s),N(o,t,s),U(l,o,s),i=!0},p:te,i(o){i||(L(e.$$.fragment,o),L(l.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),A(l.$$.fragment,o),i=!1},d(o){z(e,o),o&&O(t),z(l,o)}}}function en(n){let e,t=n[9],l;const i=()=>n[6](e,t),o=()=>n[6](null,t);let s={key:n[7],setting:G.data[n[7]]};return e=new li({props:s}),i(),{c(){V(e.$$.fragment)},m(r,a){U(e,r,a),l=!0},p(r,a){t!==r[9]&&(o(),t=r[9],i());const u={};e.$set(u)},i(r){l||(L(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){o(),z(e,r)}}}function oi(n){let e,t,l,i,o,s,r,a,u,c,m,p=Object.keys(G.data),f=[];for(let h=0;h<p.length;h+=1)f[h]=xt($t(n,p,h));r=new ut({props:{$$slots:{default:[ii]},$$scope:{ctx:n}}});let _=Object.keys(G.data),d=[];for(let h=0;h<_.length;h+=1)d[h]=en(Zt(n,_,h));const k=h=>A(d[h],1,1,()=>{d[h]=null});return{c(){e=F("div"),t=F("div"),l=F("ul");for(let h=0;h<f.length;h+=1)f[h].c();i=P(),o=F("div"),s=F("section"),V(r.$$.fragment),a=P(),u=F("section"),c=F("ul");for(let h=0;h<d.length;h+=1)d[h].c();b(l,"class","svelte-1r275ni"),b(t,"class","outline svelte-1r275ni"),b(s,"class","controls svelte-1r275ni"),b(c,"class","svelte-1r275ni"),b(u,"class","settings svelte-1r275ni"),b(o,"class","content svelte-1r275ni"),b(e,"class","top palette-plain svelte-1r275ni")},m(h,g){N(h,e,g),y(e,t),y(t,l);for(let w=0;w<f.length;w+=1)f[w].m(l,null);y(e,i),y(e,o),y(o,s),U(r,s,null),y(o,a),y(o,u),y(u,c);for(let w=0;w<d.length;w+=1)d[w].m(c,null);m=!0},p(h,[g]){if(g&2){p=Object.keys(G.data);let S;for(S=0;S<p.length;S+=1){const R=$t(h,p,S);f[S]?f[S].p(R,g):(f[S]=xt(R),f[S].c(),f[S].m(l,null))}for(;S<f.length;S+=1)f[S].d(1);f.length=p.length}const w={};if(g&2048&&(w.$$scope={dirty:g,ctx:h}),r.$set(w),g&1){_=Object.keys(G.data);let S;for(S=0;S<_.length;S+=1){const R=Zt(h,_,S);d[S]?(d[S].p(R,g),L(d[S],1)):(d[S]=en(R),d[S].c(),L(d[S],1),d[S].m(c,null))}for(ue(),S=_.length;S<d.length;S+=1)k(S);fe()}},i(h){if(!m){L(r.$$.fragment,h);for(let g=0;g<_.length;g+=1)L(d[g]);m=!0}},o(h){A(r.$$.fragment,h),d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)A(d[g]);m=!1},d(h){h&&O(e),We(f,h),z(r),We(d,h)}}}function si(n,e,t){let{closePopup:l}=e;je(()=>{G.saveToLocalStorage()});let i=[];function o(c){i[c].scrollToSelf()}const s=c=>o(c),r=()=>G.resetToAuto(),a=()=>G.randomize();function u(c,m){Q[c?"unshift":"push"](()=>{i[m]=c,t(0,i)})}return n.$$set=c=>{"closePopup"in c&&t(2,l=c.closePopup)},[i,o,l,s,r,a,u]}class ai extends le{constructor(e){super();ie(this,e,si,oi,ee,{closePopup:2})}}function tn(n,e,t){const l=n.slice();return l[24]=e[t],l[26]=t,l}const ri=n=>({item:n&1,index:n&1}),nn=n=>({item:n[24],index:n[26]});function ln(n){let e,t=[],l=new Map,i,o,s=n[0];const r=a=>a[12](a[24]);for(let a=0;a<s.length;a+=1){let u=tn(n,s,a),c=r(u);l.set(c,t[a]=on(c,u))}return{c(){e=F("ul");for(let a=0;a<t.length;a+=1)t[a].c();b(e,"class","svelte-bhi9dk")},m(a,u){N(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);n[17](e),o=!0},p(a,u){if(u&40733){s=a[0],ue();for(let c=0;c<t.length;c+=1)t[c].r();t=cn(t,u,r,1,a,s,l,e,Pn,on,null,tn);for(let c=0;c<t.length;c+=1)t[c].a();fe()}},i(a){if(!o){for(let u=0;u<s.length;u+=1)L(t[u]);i&&i.end(1),o=!0}},o(a){for(let u=0;u<t.length;u+=1)A(t[u]);i=ze(e,Qn,{}),o=!1},d(a){a&&O(e);for(let u=0;u<t.length;u+=1)t[u].d();n[17](null),a&&i&&i.end()}}}function on(n,e){let t,l,i,o,s,r,a,u=te,c,m,p;const f=e[16].default,_=ot(f,e,e[15],nn);return{key:n,first:null,c(){t=F("li"),_&&_.c(),l=P(),b(t,"data-index",i=e[26]),b(t,"data-id",o=JSON.stringify(e[12](e[24]))),b(t,"draggable","true"),b(t,"class","svelte-bhi9dk"),B(t,"overFirst",e[26]===e[2]),B(t,"overSecond",e[26]===e[3]),B(t,"dragSource",e[26]===e[4]),this.first=t},m(d,k){N(d,t,k),_&&_.m(t,null),y(t,l),c=!0,m||(p=[K(t,"dragstart",e[8]),K(t,"dragover",e[9]),K(t,"dragleave",e[10]),K(t,"drop",e[11])],m=!0)},p(d,k){e=d,_&&_.p&&(!c||k&32769)&&st(_,f,e,e[15],c?rt(f,e[15],k,ri):at(e[15]),nn),(!c||k&1&&i!==(i=e[26]))&&b(t,"data-index",i),(!c||k&1&&o!==(o=JSON.stringify(e[12](e[24]))))&&b(t,"data-id",o),k&5&&B(t,"overFirst",e[26]===e[2]),k&9&&B(t,"overSecond",e[26]===e[3]),k&17&&B(t,"dragSource",e[26]===e[4])},r(){a=t.getBoundingClientRect()},f(){Rn(t),u(),Dn(t,a)},a(){u(),u=Nn(t,a,On,{duration:e[1]*2})},i(d){c||(L(_,d),De(()=>{r&&r.end(1),s=Ue(t,e[7],{key:e[12](e[24])}),s.start()}),c=!0)},o(d){A(_,d),s&&s.invalidate(),r=ze(t,e[6],{key:e[12](e[24])}),c=!1},d(d){d&&O(t),_&&_.d(d),d&&r&&r.end(),m=!1,Te(p)}}}function ui(n){let e,t,l=n[0]&&n[0].length&&ln(n);return{c(){l&&l.c(),e=Je()},m(i,o){l&&l.m(i,o),N(i,e,o),t=!0},p(i,[o]){i[0]&&i[0].length?l?(l.p(i,o),o&1&&L(l,1)):(l=ln(i),l.c(),L(l,1),l.m(e.parentNode,e)):l&&(ue(),A(l,1,1,()=>{l=null}),fe())},i(i){t||(L(l),t=!0)},o(i){A(l),t=!1},d(i){l&&l.d(i),i&&O(e)}}}function fi(n,e,t){let{$$slots:l={},$$scope:i}=e;var o=this&&this.__awaiter||function(v,D,W,H){function re(he){return he instanceof W?he:new W(function(ve){ve(he)})}return new(W||(W=Promise))(function(he,ve){function Fe(ke){try{be(H.next(ke))}catch(pe){ve(pe)}}function de(ke){try{be(H.throw(ke))}catch(pe){ve(pe)}}function be(ke){ke.done?he(ke.value):re(ke.value).then(Fe,de)}be((H=H.apply(v,D||[])).next())})};let s=G.data.transitionSpeed.value;G.subscribe(["transitionSpeed"],v=>{t(1,s=G.data[v].value)});const[r,a]=qn({duration:v=>Math.sqrt(v*s),fallback:Yn});let u=null,c=null,m=null;const p=v=>{let D=v.target.getBoundingClientRect(),W=v.clientY-D.top,H=D.height/2;return W>H},f=v=>v.dataset&&v.dataset.index?v.dataset:f(v.parentNode),_=v=>{v.dataTransfer.setData("source",v.target.dataset.index),t(4,m=parseInt(v.target.dataset.index))},d=v=>{v.preventDefault();let D=f(v.target),W=parseInt(D.index);p(v)?(t(2,u=W),t(3,c=W+1)):(t(2,u=W-1),t(3,c=W))},k=v=>{let D=f(v.target);parseInt(D.index),t(2,u=null),t(3,c=null)},h=v=>{v.preventDefault(),t(2,u=null),t(3,c=null),t(4,m=null);let D=f(v.target),W=parseInt(v.dataTransfer.getData("source")),H=parseInt(D.index);p(v)||(H-=1),w({from:W,to:H})},g=it(),w=({from:v,to:D})=>{g("sort",{from:v,to:D})},S=v=>j?v[j]:v;let{list:R}=e,{key:j}=e,M,I=R.length;function q(){return o(this,void 0,void 0,function*(){yield Ke(),t(14,I=R.length);let v=0;for(let D=0;D<R.length;D++)v+=M.children[D].scrollHeight;t(5,M.style.height=`calc(${v}px + var(--padding) * ${R.length})`,M)})}vt(q);function X(v){Q[v?"unshift":"push"](()=>{M=v,t(5,M)})}return n.$$set=v=>{"list"in v&&t(0,R=v.list),"key"in v&&t(13,j=v.key),"$$scope"in v&&t(15,i=v.$$scope)},n.$$.update=()=>{n.$$.dirty&16385&&R.length!=I&&(q(),t(14,I=R.length))},[R,s,u,c,m,M,r,a,_,d,k,h,S,j,I,i,l,X]}class ci extends le{constructor(e){super();ie(this,e,fi,ui,ee,{list:0,key:13})}}function di(n){let e;return{c(){e=me("no name")},m(t,l){N(t,e,l)},p:te,d(t){t&&O(e)}}}function hi(n){let e=n[0].content+"",t;return{c(){t=me(e)},m(l,i){N(l,t,i)},p(l,i){i&1&&e!==(e=l[0].content+"")&&Se(t,e)},d(l){l&&O(t)}}}function pi(n){let e,t,l,i,o;function s(u,c){return u[0].content?hi:di}let r=s(n),a=r(n);return{c(){e=F("div"),t=F("button"),a.c(),b(t,"class","svelte-1c9yyjp"),B(t,"selected",n[1]),B(t,"empty",n[0].content.length==0),b(e,"class",l=se(`top palette-${n[2]}`)+" svelte-1c9yyjp"),B(e,"invert",n[0].invert)},m(u,c){N(u,e,c),y(e,t),a.m(t,null),i||(o=K(t,"click",n[3]),i=!0)},p(u,[c]){r===(r=s(u))&&a?a.p(u,c):(a.d(1),a=r(u),a&&(a.c(),a.m(t,null))),c&2&&B(t,"selected",u[1]),c&1&&B(t,"empty",u[0].content.length==0),c&4&&l!==(l=se(`top palette-${u[2]}`)+" svelte-1c9yyjp")&&b(e,"class",l),c&5&&B(e,"invert",u[0].invert)},i:te,o:te,d(u){u&&O(e),a.d(),i=!1,o()}}}function _i(n,e,t){let{flow:l}=e,{selected:i}=e,o;function s(r){Me.call(this,n,r)}return n.$$set=r=>{"flow"in r&&t(0,l=r.flow),"selected"in r&&t(1,i=r.selected)},n.$$.update=()=>{n.$$.dirty&1&&(l.invert?t(2,o="accent-secondary"):t(2,o="accent"))},[l,i,o,s]}class mi extends le{constructor(e){super();ie(this,e,_i,pi,ee,{flow:0,selected:1})}}const{document:nt}=Hn;function sn(n){let e,t,l=n[0],i,o,s,r,a=an(n);return{c(){e=F("div"),t=F("div"),a.c(),b(t,"class","popups svelte-1lsbyre"),b(e,"class","screen svelte-1lsbyre")},m(u,c){N(u,e,c),y(e,t),a.m(t,null),o=!0,s||(r=[K(t,"click",Ft(n[15])),K(e,"click",Ft(n[16]))],s=!0)},p(u,c){c[0]&1&&ee(l,l=u[0])?(ue(),A(a,1,1,te),fe(),a=an(u),a.c(),L(a),a.m(t,null)):a.p(u,c)},i(u){o||(L(a),De(()=>{i||(i=lt(e,Tt,{},!0)),i.run(1)}),o=!0)},o(u){A(a),i||(i=lt(e,Tt,{},!1)),i.run(0),o=!1},d(u){u&&O(e),a.d(u),u&&i&&i.end(),s=!1,Te(r)}}}function an(n){let e,t;return e=new Hl({props:{component:n[0][0].component,closeSelf:n[14],props:n[0][0].props}}),{c(){V(e.$$.fragment)},m(l,i){U(e,l,i),t=!0},p(l,i){const o={};i[0]&1&&(o.component=l[0][0].component),i[0]&1&&(o.props=l[0][0].props),e.$set(o)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){z(e,l)}}}function gi(n){let e,t,l,i,o,s;return e=new ae({props:{icon:"settings",tooltip:"settings"}}),e.$on("click",n[17]),l=new ae({props:{icon:"download",disabled:n[1].length==0,disabledReason:"nothing to download",tooltip:"download as file"}}),l.$on("click",n[18]),o=new ae({props:{icon:"upload",tooltip:"import file"}}),o.$on("click",n[19]),{c(){V(e.$$.fragment),t=P(),V(l.$$.fragment),i=P(),V(o.$$.fragment)},m(r,a){U(e,r,a),N(r,t,a),U(l,r,a),N(r,i,a),U(o,r,a),s=!0},p(r,a){const u={};a[0]&2&&(u.disabled=r[1].length==0),l.$set(u)},i(r){s||(L(e.$$.fragment,r),L(l.$$.fragment,r),L(o.$$.fragment,r),s=!0)},o(r){A(e.$$.fragment,r),A(l.$$.fragment,r),A(o.$$.fragment,r),s=!1},d(r){z(e,r),r&&O(t),z(l,r),r&&O(i),z(o,r)}}}function vi(n){let e,t,l;function i(r){n[20](r,n[40])}function o(){return n[21](n[40])}let s={selected:n[40]==n[2]};return n[1][n[40]]!==void 0&&(s.flow=n[1][n[40]]),e=new mi({props:s}),Q.push(()=>x(e,"flow",i)),e.$on("click",o),{c(){V(e.$$.fragment)},m(r,a){U(e,r,a),l=!0},p(r,a){n=r;const u={};a[0]&4|a[1]&512&&(u.selected=n[40]==n[2]),!t&&a[0]&2|a[1]&512&&(t=!0,u.flow=n[1][n[40]],$(()=>t=!1)),e.$set(u)},i(r){l||(L(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){z(e,r)}}}function rn(n){let e=n[2],t,l,i=un(n);return{c(){i.c(),t=Je()},m(o,s){i.m(o,s),N(o,t,s),l=!0},p(o,s){s[0]&4&&ee(e,e=o[2])?(ue(),A(i,1,1,te),fe(),i=un(o),i.c(),L(i),i.m(t.parentNode,t)):i.p(o,s)},i(o){l||(L(i),l=!0)},o(o){A(i),l=!1},d(o){o&&O(t),i.d(o)}}}function un(n){let e,t,l,i,o,s,r,a,u,c,m,p,f,_,d,k;function h(v){n[25](v)}function g(v){n[26](v)}function w(v){n[27](v)}function S(v){n[28](v)}function R(v){n[29](v)}let j={deleteSelf:n[24]};n[1][n[2]].content!==void 0&&(j.content=n[1][n[2]].content),n[1][n[2]].children!==void 0&&(j.children=n[1][n[2]].children),n[1][n[2]].index!==void 0&&(j.index=n[1][n[2]].index),n[1][n[2]].focus!==void 0&&(j.focus=n[1][n[2]].focus),n[1][n[2]].invert!==void 0&&(j.invert=n[1][n[2]].invert),t=new Tl({props:j}),Q.push(()=>x(t,"content",h)),Q.push(()=>x(t,"children",g)),Q.push(()=>x(t,"index",w)),Q.push(()=>x(t,"focus",S)),Q.push(()=>x(t,"invert",R));function M(v){n[30](v)}let I={};n[1][n[2]]!==void 0&&(I.flow=n[1][n[2]]),c=new Nl({props:I}),Q.push(()=>x(c,"flow",M));function q(v){n[31](v)}let X={};return n[1][n[2]]!==void 0&&(X.root=n[1][n[2]]),_=new yl({props:X}),Q.push(()=>x(_,"root",q)),_.$on("focusFlow",n[4]),{c(){e=F("div"),V(t.$$.fragment),a=P(),u=F("div"),V(c.$$.fragment),p=P(),f=F("div"),V(_.$$.fragment),b(e,"class","title svelte-1lsbyre"),b(u,"class","box-control svelte-1lsbyre"),b(f,"class","flow svelte-1lsbyre")},m(v,D){N(v,e,D),U(t,e,null),N(v,a,D),N(v,u,D),U(c,u,null),N(v,p,D),N(v,f,D),U(_,f,null),k=!0},p(v,D){const W={};D[0]&4&&(W.deleteSelf=v[24]),!l&&D[0]&6&&(l=!0,W.content=v[1][v[2]].content,$(()=>l=!1)),!i&&D[0]&6&&(i=!0,W.children=v[1][v[2]].children,$(()=>i=!1)),!o&&D[0]&6&&(o=!0,W.index=v[1][v[2]].index,$(()=>o=!1)),!s&&D[0]&6&&(s=!0,W.focus=v[1][v[2]].focus,$(()=>s=!1)),!r&&D[0]&6&&(r=!0,W.invert=v[1][v[2]].invert,$(()=>r=!1)),t.$set(W);const H={};!m&&D[0]&6&&(m=!0,H.flow=v[1][v[2]],$(()=>m=!1)),c.$set(H);const re={};!d&&D[0]&6&&(d=!0,re.root=v[1][v[2]],$(()=>d=!1)),_.$set(re)},i(v){k||(L(t.$$.fragment,v),L(c.$$.fragment,v),L(_.$$.fragment,v),k=!0)},o(v){A(t.$$.fragment,v),A(c.$$.fragment,v),A(_.$$.fragment,v),k=!1},d(v){v&&O(e),z(t),v&&O(a),v&&O(u),z(c),v&&O(p),v&&O(f),z(_)}}}function bi(n){let e,t,l,i,o,s,r,a,u,c,m,p,f,_,d,k,h,g,w,S,R,j,M=n[0].length>0&&sn(n);u=new ut({props:{$$slots:{default:[gi]},$$scope:{ctx:n}}}),f=new ci({props:{list:n[1],key:"id",$$slots:{default:[vi,({index:q})=>({40:q}),({index:q})=>[0,q?512:0]]},$$scope:{ctx:n}}}),f.$on("sort",n[13]),k=new ae({props:{text:"aff",palette:"accent",icon:"add",tooltip:"create new aff flow",shortcut:["control","n"]}}),k.$on("click",n[22]),g=new ae({props:{text:"neg",palette:"accent-secondary",icon:"add",tooltip:"create new neg flow",shortcut:["control","shift","n"]}}),g.$on("click",n[23]);let I=n[1].length>0&&n[1][n[2]]&&rn(n);return{c(){e=P(),t=F("main"),M&&M.c(),l=P(),i=F("input"),o=P(),s=F("div"),r=F("div"),a=F("div"),V(u.$$.fragment),c=P(),m=F("div"),p=F("ul"),V(f.$$.fragment),_=P(),d=F("div"),V(k.$$.fragment),h=P(),V(g.$$.fragment),w=P(),I&&I.c(),b(i,"id","uploadId"),b(i,"type","file"),i.hidden=!0,b(a,"class","header svelte-1lsbyre"),b(d,"class","add-tab svelte-1lsbyre"),b(p,"class","svelte-1lsbyre"),b(m,"class","tabs svelte-1lsbyre"),b(r,"class","sidebar svelte-1lsbyre"),b(s,"class","grid svelte-1lsbyre"),b(t,"class","palette-plain"),B(t,"activeMouse",Ze)},m(q,X){N(q,e,X),N(q,t,X),M&&M.m(t,null),y(t,l),y(t,i),y(t,o),y(t,s),y(s,r),y(r,a),U(u,a,null),y(r,c),y(r,m),y(m,p),U(f,p,null),y(p,_),y(p,d),U(k,d,null),y(d,h),U(g,d,null),y(s,w),I&&I.m(s,null),S=!0,R||(j=[K(nt.body,"keydown",n[8]),K(nt.body,"mousemove",n[7]),K(nt.body,"dragenter",ki),K(nt.body,"drop",n[9]),K(i,"change",n[10])],R=!0)},p(q,X){q[0].length>0?M?(M.p(q,X),X[0]&1&&L(M,1)):(M=sn(q),M.c(),L(M,1),M.m(t,l)):M&&(ue(),A(M,1,1,()=>{M=null}),fe());const v={};X[0]&2|X[1]&1024&&(v.$$scope={dirty:X,ctx:q}),u.$set(v);const D={};X[0]&2&&(D.list=q[1]),X[0]&6|X[1]&1536&&(D.$$scope={dirty:X,ctx:q}),f.$set(D),q[1].length>0&&q[1][q[2]]?I?(I.p(q,X),X[0]&6&&L(I,1)):(I=rn(q),I.c(),L(I,1),I.m(s,null)):I&&(ue(),A(I,1,1,()=>{I=null}),fe())},i(q){S||(L(M),L(u.$$.fragment,q),L(f.$$.fragment,q),L(k.$$.fragment,q),L(g.$$.fragment,q),L(I),S=!0)},o(q){A(M),A(u.$$.fragment,q),A(f.$$.fragment,q),A(k.$$.fragment,q),A(g.$$.fragment,q),A(I),S=!1},d(q){q&&O(e),q&&O(t),M&&M.d(),z(u),z(f),z(k),z(g),I&&I.d(),R=!1,Te(j)}}}function ki(n){n.preventDefault()}function wi(n,e,t){let l,i,o,s;ge(n,ne,C=>t(1,l=C)),ge(n,Re,C=>t(2,i=C)),ge(n,Ve,C=>t(32,o=C)),ge(n,Ze,C=>t(33,s=C));var r=this&&this.__awaiter||function(C,E,J,Z){function we(Ce){return Ce instanceof J?Ce:new J(function(Ae){Ae(Ce)})}return new(J||(J=Promise))(function(Ce,Ae){function dt(Le){try{Ge(Z.next(Le))}catch(Ye){Ae(Ye)}}function ht(Le){try{Ge(Z.throw(Le))}catch(Ye){Ae(Ye)}}function Ge(Le){Le.done?Ce(Le.value):we(Le.value).then(dt,ht)}Ge((Z=Z.apply(C,E||[])).next())})};let a=window.matchMedia("(prefers-color-scheme: dark)");function u(){G.data.colorTheme.value==0&&document.body.classList.toggle("dark",a.matches)}a.addEventListener("change",u),je(G.subscribe(["colorTheme"],function(C){G.data.colorTheme.value==1?document.body.classList.remove("dark"):G.data.colorTheme.value==2?document.body.classList.add("dark"):u()}));let c={accentHue:{name:"accent-hue",unit:""},accentSecondaryHue:{name:"accent-secondary-hue",unit:""},transitionSpeed:{name:"transition-speed",unit:"ms"},columnWidth:{name:"column-width",unit:"px"},borderRadius:{name:"border-radius",unit:"px"},padding:{name:"padding",unit:"px"},fontSize:{name:"font-size",unit:"rem"},fontWeight:{name:"font-weight",unit:""},gap:{name:"gap",unit:"px"}};je(G.subscribe(Object.keys(c),function(C){let E=c[C].name,J=G.data[C].value,Z=c[C].unit;document.body.style.setProperty(`--${E}`,`${J}${Z}`)})),je(G.subscribe(["fontFamily"],function(C){let E=G.data.fontFamily;if(E.type!="radio")return;let J=E.value,Z;E.detail.customOption&&E.detail.options.length==J?Z=E.detail.customOptionValue:E.detail.options[J]&&(Z=E.detail.options[J]),Z?document.body.style.setProperty("--font-family",`'${Z}', 'Merriweather Sans', sans-serif`):document.body.style.setProperty("--font-family","'Merriweather Sans', sans-serif")}));function m(C){ce(Re,i=C,i),p()}function p(){var C,E;let J=((C=l[i])===null||C===void 0?void 0:C.lastFocus)&&ye((E=l[i])===null||E===void 0?void 0:E.lastFocus);J?J.focus=!0:ce(ne,l[i].focus=!0,l),ne.set(l)}function f(){var C,E;if(l.length>0){let J=((C=l[i])===null||C===void 0?void 0:C.lastFocus)&&ye((E=l[i])===null||E===void 0?void 0:E.lastFocus);J||(J=l[i]),J.focus=!1,J=J,document.activeElement.blur()}}function _(C){f(),l.push(Wn(l.length,C)),ce(Re,i=l.length-1,i),ne.set(l)}function d(C){return r(this,void 0,void 0,function*(){f(),l.splice(C,1),C==0?ce(Re,i=0,i):ce(Re,i=C-1,i),ne.set(l),l.length>0&&p()})}function k(C){ce(Ze,s=!0,s)}function h(C){ce(Ze,s=!1,s),C.ctrlKey&&C.shiftKey&&C.key=="N"?(C.preventDefault(),_("neg")):C.ctrlKey&&C.key=="n"&&(C.preventDefault(),_("aff")),C.metaKey&&C.shiftKey&&C.key=="z"?(C.preventDefault(),l[i].history.redo()):C.metaKey&&C.key=="z"&&(C.preventDefault(),l[i].history.undo())}function g(C){var E;C.preventDefault();let J=(E=C==null?void 0:C.dataTransfer)===null||E===void 0?void 0:E.files[0];if(J==null)return;let Z=new FileReader;Z.onload=function(we){S(we.target.result.toString())},(J.type=="text/plain"||J.type=="application/json")&&Z.readAsText(J,"UTF-8")}function w(){let C=document.getElementById("uploadId").files[0],E=new FileReader;E.onload=function(J){S(J.target.result.toString())},E.readAsText(C,"UTF-8")}function S(C){return r(this,void 0,void 0,function*(){let E,J;try{E=JSON.parse(C),J=E.map(Z=>(Z.history=new hn,Z))}catch{M(Wl,{props:{message:"Invalid file"}})}J!=null&&ce(ne,l=J,l)})}window.addEventListener("dragover",function(C){C.preventDefault()},!1),window.addEventListener("drop",function(C){C.preventDefault()},!1);let R=[];function j(C){R.splice(C,1),t(0,R)}function M(C,{props:E={}}={}){R.push({component:C,props:E}),t(0,R)}window.addEventListener("beforeunload",function(C){if(l.length>0&&!o){let E="Are you sure you want to leave?";return(C||window.event).returnValue=E,E}});function I(C){let{from:E,to:J}=C.detail,Z=l[i].id,we=[...l];E>J&&(J+=1),console.log(J,E);let Ce=we.splice(E,1)[0];we.splice(J,0,Ce),ce(ne,l=we,l),ce(Re,i=l.findIndex(Ae=>Ae.id==Z),i)}const q=()=>j(0),X=()=>{j(0)},v=()=>{j(0)},D=()=>M(ai),W=()=>M(Il),H=()=>M(Ul);function re(C,E){n.$$.not_equal(l[E],C)&&(l[E]=C,ne.set(l))}const he=C=>m(C),ve=()=>_("aff"),Fe=()=>_("neg"),de=()=>d(i);function be(C){n.$$.not_equal(l[i].content,C)&&(l[i].content=C,ne.set(l))}function ke(C){n.$$.not_equal(l[i].children,C)&&(l[i].children=C,ne.set(l))}function pe(C){n.$$.not_equal(l[i].index,C)&&(l[i].index=C,ne.set(l))}function Ie(C){n.$$.not_equal(l[i].focus,C)&&(l[i].focus=C,ne.set(l))}function ft(C){n.$$.not_equal(l[i].invert,C)&&(l[i].invert=C,ne.set(l))}function ct(C){n.$$.not_equal(l[i],C)&&(l[i]=C,ne.set(l))}function Xe(C){n.$$.not_equal(l[i],C)&&(l[i]=C,ne.set(l))}return[R,l,i,m,p,_,d,k,h,g,w,j,M,I,q,X,v,D,W,H,re,he,ve,Fe,de,be,ke,pe,Ie,ft,ct,Xe]}class yi extends le{constructor(e){super();ie(this,e,wi,bi,ee,{},null,[-1,-1])}}new yi({target:document.body});
