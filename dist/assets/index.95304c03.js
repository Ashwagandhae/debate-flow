import{S as ee,i as te,s as $,e as S,a as w,b as B,c as Te,l as I,n as ie,d as j,r as be,f as Kt,o as Ne,g as me,h as G,j as dn,w as Ke,q as Pe,k as hn,m as Q,p as U,t as oe,u as K,v as F,x as ve,y as Be,z as A,A as X,B as Xe,C as Z,D as z,E,F as y,G as re,H as fe,I as _n,J as $e,K as he,L as Xt,M as st,N as Jt,O as pn,P as Ie,Q as _e,R as we,T as Le,U as ut,V as nt,W as lt,X as it,Y as ot,Z as ze,_ as Ae,$ as gn,a0 as mn,a1 as xe,a2 as at,a3 as vn,a4 as Fe,a5 as rt,a6 as bn}from"./vendor.70d987b1.js";const wn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}};wn();class kn{constructor(e){this.callbacks={any:[]},this.data=e,this.loadFromLocalStorage()}setValue(e,t){if(this.data[e].value=t,this.callbacks[e])for(let l of this.callbacks[e])l(e);for(let l of this.callbacks.any)l(e)}subscribe(e,t){for(let l of e)this.callbacks[l]||(this.callbacks[l]=[]),this.callbacks[l].push(t),t(l);return()=>{for(let l of e)this.callbacks[l]=this.callbacks[l].filter(i=>i!=t)}}saveToLocalStorage(){let e={};for(var t in this.data)this.data[t].value!=this.data[t].auto&&(e[t]=this.data[t].value);localStorage.setItem("settings",JSON.stringify(e))}loadFromLocalStorage(){if(localStorage.getItem("settings")){let t=JSON.parse(localStorage.getItem("settings"));try{for(var e in t)this.setValue(e,t[e])}catch{localStorage.setItem("settings",JSON.stringify({})),this.resetToAuto()}}}resetToAuto(){for(var e in this.data)this.setValue(e,this.data[e].auto)}}let Y=new kn({colorTheme:{name:"Color theme",type:"radio",value:0,auto:0,detail:{options:["System Default","Light theme","Dark theme"]}},accentHue:{name:"Primary color hue",type:"slider",value:192,auto:192,detail:{min:0,max:360,step:1,hue:!0}},accentSecondaryHue:{name:"Secondary color hue",type:"slider",value:26,auto:26,detail:{min:0,max:360,step:1,hue:!0}},transitionSpeed:{name:"Transition duration",type:"slider",value:300,auto:300,detail:{min:0,max:1e3,step:1}},fontSize:{name:"Font size",type:"slider",value:.9,auto:.9,detail:{min:.2,max:2,step:.01}},borderRadius:{name:"Border radius",type:"slider",value:12,auto:12,detail:{min:0,max:30,step:1}},padding:{name:"Padding",value:8,auto:8,type:"slider",detail:{min:0,max:30,step:1}},gap:{name:"Grid Gap",value:12,auto:12,type:"slider",detail:{min:0,max:30,step:1}}});function yn(n){let e,t,l,i;return{c(){e=S("textarea"),w(e,"spellcheck","false"),w(e,"placeholder",n[1]),w(e,"style",t=`--white-space:${n[2]};`),w(e,"class","svelte-1t3wlx8")},m(s,o){B(s,e,o),Te(e,n[0]),n[12](e),l||(i=[I(e,"input",n[11]),I(e,"load",n[4]),I(e,"input",n[4]),I(e,"beforeinput",n[7]),I(e,"keydown",n[8]),I(e,"focus",n[9]),I(e,"blur",n[10])],l=!0)},p(s,[o]){o&2&&w(e,"placeholder",s[1]),o&4&&t!==(t=`--white-space:${s[2]};`)&&w(e,"style",t),o&1&&Te(e,s[0])},i:ie,o:ie,d(s){s&&j(e),n[12](null),l=!1,be(i)}}}function Sn(n,e,t){let{value:l}=e,{placeholder:i}=e,{nowrap:s=!1}=e,o,u;function a(){u&&(t(3,u.value=u.value.replace(/\r?\n|\r/g,""),u),t(3,u.style.height="0px",u),t(3,u.style.height=u.scrollHeight+"px",u))}Kt(function(){a()}),Ne(Y.subscribe(["fontSize"],function(){a()}));const r=()=>{u.focus()};function f(p){me.call(this,n,p)}function c(p){me.call(this,n,p)}function d(p){me.call(this,n,p)}function h(p){me.call(this,n,p)}function g(){l=this.value,t(0,l)}function m(p){G[p?"unshift":"push"](()=>{u=p,t(3,u)})}return n.$$set=p=>{"value"in p&&t(0,l=p.value),"placeholder"in p&&t(1,i=p.placeholder),"nowrap"in p&&t(5,s=p.nowrap)},n.$$.update=()=>{n.$$.dirty&32&&(s?t(2,o="nowrap"):t(2,o="auto"))},[l,i,o,u,a,s,r,f,c,d,h,g,m]}class Wt extends ee{constructor(e){super();te(this,e,Sn,yn,$,{value:0,placeholder:1,nowrap:5,focus:6})}get focus(){return this.$$.ctx[6]}}function Cn(n){let e,t=n[1].svg+"",l;return{c(){e=dn("svg"),w(e,"style",l=`width:${n[0]};height:${n[0]};`),w(e,"viewBox","0 0 "+100+" "+100),w(e,"fill","none"),w(e,"stroke","var(--text)"),w(e,"class","svelte-2n1qug")},m(i,s){B(i,e,s),e.innerHTML=t},p(i,[s]){s&2&&t!==(t=i[1].svg+"")&&(e.innerHTML=t),s&1&&l!==(l=`width:${i[0]};height:${i[0]};`)&&w(e,"style",l)},i:ie,o:ie,d(i){i&&j(e)}}}function Fn(n,e,t){let{name:l}=e,{size:i="1rem"}=e,s=[{name:"arrowRight",svg:'<path d="M27 7L74 50L27 93" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowLeft",svg:'<path d="M74 93L27 50L74 7" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowUp",svg:'<path d="M7.5 73.5L50.5 26.5L93.5 73.5" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"arrowDown",svg:'<path d="M93.5 26.5L50.5 73.5L7.5 26.5" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'},{name:"delete",svg:`<path d="M78.5685 22L22 78.5685" stroke-width="10" stroke-linecap="round"/>
<path d="M22 22L78.5685 78.5685" stroke-width="10" stroke-linecap="round"/>`},{name:"add",svg:`<path d="M50 15L50 85" stroke-width="10" stroke-linecap="round"/>
<path d="M15 50H85" stroke-width="10" stroke-linecap="round"/>`},{name:"download",svg:`<path d="M71 45L50 68L29 45" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 85L80 85" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50 66L50 14" stroke-width="10" stroke-linecap="round"/>`},{name:"upload",svg:`<path d="M29 37L50 14L71 37" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 85L80 85" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50 16L50 68" stroke-width="10" stroke-linecap="round"/>`},{name:"addUp",svg:`<path d="M85 25V25C87.7614 25 90 27.2386 90 30V70C90 75.5228 85.5228 80 80 80H20C14.4772 80 10 75.5228 10 70L10 30C10 27.2386 12.2386 25 15 25V25" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M35 25H65" stroke-width="10" stroke-linecap="round"/>
<path d="M50 40V10" stroke-width="10" stroke-linecap="round"/>`},{name:"addDown",svg:`<path d="M15 75V75C12.2386 75 10 72.7614 10 70L10 30C10 24.4772 14.4772 20 20 20L80 20C85.5228 20 90 24.4772 90 30L90 70C90 72.7614 87.7614 75 85 75V75" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M65 75H35" stroke-width="10" stroke-linecap="round"/>
<path d="M50 60L50 90" stroke-width="10" stroke-linecap="round"/>`},{name:"addRight",svg:`<path d="M75 85V85C75 87.7614 72.7614 90 70 90H30C24.4772 90 20 85.5228 20 80V20C20 14.4772 24.4772 10 30 10H70C72.7614 10 75 12.2386 75 15V15" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M75 35V65" stroke-width="10" stroke-linecap="round"/>
<path d="M60 50H90" stroke-width="10" stroke-linecap="round"/>`},{name:"undo",svg:`<path d="M10 47H70C81.0457 47 90 55.9543 90 67V77" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M36 70L10 47L36 24" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"redo",svg:`<path d="M90 47H30C18.9543 47 10 55.9543 10 67V77" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M64 70L90 47L64 24" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>`},{name:"settings",svg:`<line x1="10" y1="50" x2="90" y2="50" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="80" x2="90" y2="80" stroke-width="10" stroke-linecap="round"/>
<line x1="10" y1="20" x2="90" y2="20" stroke-width="10" stroke-linecap="round"/>
<circle cx="26.25" cy="50.25" r="6.25" stroke-width="10"/>
<circle cx="71.25" cy="80.25" r="6.25" stroke-width="10"/>
<circle cx="71.25" cy="20.25" r="6.25" stroke-width="10"/>`},{name:"check",svg:'<path d="M88.7817 29.2843L39.2842 78.7817L11 50.4975" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>'}],o;function u(){t(1,o=s.find(a=>a.name===l))}return u(),n.$$set=a=>{"name"in a&&t(2,l=a.name),"size"in a&&t(0,i=a.size)},n.$$.update=()=>{n.$$.dirty&4&&u()},[i,o,l]}class Gt extends ee{constructor(e){super();te(this,e,Fn,Cn,$,{name:2,size:0})}}const je=Ke(!0),le=Ke([]);let qe=Ke(0);const Ln=Ke({aff:{columns:["1AC","1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!1},neg:{columns:["1NC","2AC","2NC/1NR","1AR","2NR","2AR"],invert:!0}});let Ue;le.subscribe(n=>{Ue=n});let et;Ln.subscribe(n=>{et=n});function Oe(n,e,t){return{content:"",children:[],index:n,level:e,focus:t}}function Mn(n,e){return{content:"",level:0,columns:et[e].columns,invert:et[e].invert,focus:!0,index:n,lastFocus:void 0,children:[Oe(0,1,!1)],history:new Yt}}function de(n,e=0){let t=Ue[n[0]];for(let l=1;l<n.length-e;l++)t=t.children[n[l]];return t}class Yt{constructor(){this.index=-1,this.data=[],this.lastFocus=void 0}lastAction(){return this.data[this.index]}add(e,t,l){this.resolveAllPending();let i={type:e,path:t,lastFocus:[...this.lastFocus],nextFocus:void 0,other:l,pending:!1};this.data=this.data.slice(0,this.index+1),this.data.push(i),this.index=this.data.length-1}addPending(e,t,l){this.data=this.data.slice(0,this.index+1),this.data.push({type:e,path:t,lastFocus:void 0,nextFocus:void 0,other:l,pending:!0}),this.index=this.data.length-1}resolveAllPending(){let e=!1;for(let t=0;t<this.data.length;t++){let l=this.data[t];if(l.pending){let i={type:l.type,path:l.path,lastFocus:l.path,nextFocus:l.path,other:l.other,pending:!1},s=!0;i.type=="edit"&&(i.other.lastContent=l.other.lastContent,i.other.nextContent=l.other.getNextContent(),i.other.lastContent==i.other.nextContent&&(s=!1),l.other.createEditBreak()),s?(e=!0,this.data[t]=i):(this.data[t]=null,this.index>=t&&(this.index-=1))}}this.data=this.data.filter(t=>t!=null),e&&console.log("resolving all pending")}addFocus(e){this.lastFocus=e,this.lastAction()&&this.lastAction().nextFocus==null&&(this.lastAction().nextFocus=e)}undoAction(e){console.log("undo",this.index,this.data);let t=de(e.path,1),l=e.path[e.path.length-1],i=[...t.children];e.type=="add"?i.splice(l,1):e.type=="delete"?i.splice(l,0,e.other.box):e.type=="edit"&&(i[l].content=e.other.lastContent);for(let s=l;s<i.length;s++)i[s].index=s;t.children=[...i]}redoAction(e){console.log("redo",this.index,this.data);let t=de(e.path,1),l=e.path[e.path.length-1],i=[...t.children];e.type=="add"?i.splice(l,0,Oe(l,t.level+1,!1)):e.type=="delete"?i.splice(l,1):e.type=="edit"&&(i[l].content=e.other.nextContent);for(let s=l;s<i.length;s++)i[s].index=s;t.children=[...i]}focus(e){let t=de(e);t.focus=!0}undo(){if(this.resolveAllPending(),this.index>-1){let e=this.lastAction();this.undoAction(e),this.focus(e.lastFocus),le.set(Ue),this.index-=1}}redo(){if(this.resolveAllPending(),this.index<this.data.length-1){this.index+=1;let e=this.lastAction();this.redoAction(e),this.focus(e.nextFocus),le.set(Ue)}}}function Tn(n){const e=n.clientHeight;return{duration:Y.data.transitionSpeed.value,css:t=>{const l=Pe(t);return`
        height: ${l*e}px;
        overflow: visible;
        clip-path: inset(${(1-l)*e-2}px 0 -${e}px 0);
        transform: translateY(${(1-l)*-e}px);
        `}}}function qn(n){const e=n.clientHeight;return{duration:Y.data.transitionSpeed.value,css:t=>{const l=Pe(t);return`
        height: ${l*e}px;
        overflow: visible;
        clip-path: inset(${(1-l)*e}px 0 0 0);
        transform: translateY(${(1-l)*-e}px);
        `}}}function An(n){return{duration:Y.data.transitionSpeed.value,css:e=>`
        opacity:${e};
      `}}function ft(n){return{duration:Y.data.transitionSpeed.value,css:e=>{const t=Pe(e);return`
        clip-path:inset(0% ${(1-t)*100}% 0% 0%);
        transform: translateX(${(1-t)*50}%);
      `}}}function ct(n){return{duration:Y.data.transitionSpeed.value,css:e=>{const t=hn(e);return`
      clip-path:inset(0% ${(1-t)*100}% 0% 0%);
      transform: translateX(${(1-t)*50}%)`}}}function Pn(n){const e=n.clientHeight;return{duration:Y.data.transitionSpeed.value,css:t=>{const l=Pe(t);return`
        height: ${e*l}px;
        overflow: hidden;
        transform: translateX(${-100*(1-l)}%);
      `}}}function dt(n){return{duration:Y.data.transitionSpeed.value,css:e=>`
        transform: scale(${Pe(e)});
        opacity: ${e};
      `}}function ht(n){return{duration:Y.data.transitionSpeed.value,css:e=>`
        transform: scale(${Pe(e)});
        opacity: ${e};
      `}}function _t(n){return{duration:Y.data.transitionSpeed.value,css:e=>`
        opacity: ${e};
      `}}function pt(n,e,t){const l=n.slice();return l[54]=e[t],l[55]=e,l[56]=t,l}function gt(n){let e,t,l,i,s,o,u;return t=new Gt({props:{name:"add"}}),{c(){e=S("button"),U(t.$$.fragment),w(e,"class",l=oe(`add palette-${n[13]}`)+" svelte-1rn8q8v")},m(a,r){B(a,e,r),K(t,e,null),s=!0,o||(u=[I(e,"click",n[34]),I(e,"mousedown",tt)],o=!0)},p(a,r){(!s||r[0]&8192&&l!==(l=oe(`add palette-${a[13]}`)+" svelte-1rn8q8v"))&&w(e,"class",l)},i(a){s||(F(t.$$.fragment,a),a&&(i||ve(()=>{i=Be(e,An,{}),i.start()})),s=!0)},o(a){A(t.$$.fragment,a),s=!1},d(a){a&&j(e),X(t),o=!1,be(u)}}}function mt(n,e){let t,l,i,s,o,u,a,r;function f(p){e[35](p,e[54])}function c(p){e[36](p,e[54])}function d(p){e[37](p,e[54])}function h(p){e[38](p,e[54])}function g(p){e[39](p,e[54])}let m={addSibling:e[22],deleteSelf:e[23],focusSibling:e[24],focusParent:e[25],dispatchSelfFocus:e[17],parentPath:e[8]};return e[54].content!==void 0&&(m.content=e[54].content),e[54].children!==void 0&&(m.children=e[54].children),e[54].index!==void 0&&(m.index=e[54].index),e[54].level!==void 0&&(m.level=e[54].level),e[54].focus!==void 0&&(m.focus=e[54].focus),l=new Qt({props:m}),G.push(()=>Q(l,"content",f)),G.push(()=>Q(l,"children",c)),G.push(()=>Q(l,"index",d)),G.push(()=>Q(l,"level",h)),G.push(()=>Q(l,"focus",g)),l.$on("saveFocus",e[40]),{key:n,first:null,c(){t=Xe(),U(l.$$.fragment),this.first=t},m(p,_){B(p,t,_),K(l,p,_),r=!0},p(p,_){e=p;const b={};_[0]&256&&(b.parentPath=e[8]),!i&&_[0]&4&&(i=!0,b.content=e[54].content,Z(()=>i=!1)),!s&&_[0]&4&&(s=!0,b.children=e[54].children,Z(()=>s=!1)),!o&&_[0]&4&&(o=!0,b.index=e[54].index,Z(()=>o=!1)),!u&&_[0]&4&&(u=!0,b.level=e[54].level,Z(()=>u=!1)),!a&&_[0]&4&&(a=!0,b.focus=e[54].focus,Z(()=>a=!1)),l.$set(b)},i(p){r||(F(l.$$.fragment,p),r=!0)},o(p){A(l.$$.fragment,p),r=!1},d(p){p&&j(t),X(l,p)}}}function Rn(n){let e,t,l,i,s,o,u,a,r,f,c,d,h,g,m,p,_=[],b=new Map,C,V,R,T,O,N;function q(k){n[31](k)}let P={placeholder:n[11]};n[1]!==void 0&&(P.value=n[1]),a=new Wt({props:P}),G.push(()=>Q(a,"value",q)),n[32](a),a.$on("keydown",n[20]),a.$on("beforeinput",n[21]),a.$on("blur",n[19]),a.$on("focus",n[18]);let v=n[2].length==0&&n[5]<n[15]&&gt(n),D=n[2];const W=k=>k[54];for(let k=0;k<D.length;k+=1){let H=pt(n,D,k),ue=W(H);b.set(ue,_[k]=mt(ue,H))}return{c(){e=S("div"),t=S("div"),l=S("div"),i=S("div"),u=z(),U(a.$$.fragment),f=z(),c=S("div"),g=z(),v&&v.c(),m=z(),p=S("ul");for(let k=0;k<_.length;k+=1)_[k].c();w(i,"class","line above svelte-1rn8q8v"),E(i,"left",n[2].length>0),E(i,"right",n[4]==0&&n[5]>1),w(c,"class","line below svelte-1rn8q8v"),w(l,"class","barcontainer svelte-1rn8q8v"),w(t,"class","content svelte-1rn8q8v"),w(t,"style",`--this-background: ${n[16]}`),E(t,"root",n[3]),E(t,"left",n[2].length>0),E(t,"right",n[4]==0&&n[5]>1),w(p,"class","children svelte-1rn8q8v"),w(e,"class",C=oe(`top palette-${n[12]}`)+" svelte-1rn8q8v"),E(e,"empty",n[2].length==0),E(e,"focus",n[0]),E(e,"childFocus",n[10]),E(e,"activeMouse",n[14]),E(e,"highlight",n[10]||n[0])},m(k,H){B(k,e,H),y(e,t),y(t,l),y(l,i),y(l,u),K(a,l,null),y(l,f),y(l,c),y(t,g),v&&v.m(t,null),y(e,m),y(e,p);for(let ue=0;ue<_.length;ue+=1)_[ue].m(p,null);T=!0,O||(N=[I(i,"click",n[30]),I(i,"mousedown",tt),I(c,"click",n[33]),I(c,"mousedown",tt)],O=!0)},p(k,H){H[0]&4&&E(i,"left",k[2].length>0),H[0]&48&&E(i,"right",k[4]==0&&k[5]>1);const ue={};H[0]&2048&&(ue.placeholder=k[11]),!r&&H[0]&2&&(r=!0,ue.value=k[1],Z(()=>r=!1)),a.$set(ue),k[2].length==0&&k[5]<k[15]?v?(v.p(k,H),H[0]&36&&F(v,1)):(v=gt(k),v.c(),F(v,1),v.m(t,null)):v&&(re(),A(v,1,1,()=>{v=null}),fe()),H[0]&8&&E(t,"root",k[3]),H[0]&4&&E(t,"left",k[2].length>0),H[0]&48&&E(t,"right",k[4]==0&&k[5]>1),H[0]&63045892&&(D=k[2],re(),_=_n(_,H,W,1,k,D,b,p,pn,mt,null,pt),fe()),(!T||H[0]&4096&&C!==(C=oe(`top palette-${k[12]}`)+" svelte-1rn8q8v"))&&w(e,"class",C),H[0]&4100&&E(e,"empty",k[2].length==0),H[0]&4097&&E(e,"focus",k[0]),H[0]&5120&&E(e,"childFocus",k[10]),H[0]&20480&&E(e,"activeMouse",k[14]),H[0]&5121&&E(e,"highlight",k[10]||k[0])},i(k){if(!T){k&&ve(()=>{o&&o.end(1),s=Be(i,ft,{}),s.start()}),F(a.$$.fragment,k),k&&ve(()=>{h&&h.end(1),d=Be(c,ft,{}),d.start()}),F(v);for(let H=0;H<D.length;H+=1)F(_[H]);k&&ve(()=>{R&&R.end(1),V=Be(e,Tn,{}),V.start()}),T=!0}},o(k){s&&s.invalidate(),k&&(o=$e(i,ct,{})),A(a.$$.fragment,k),d&&d.invalidate(),k&&(h=$e(c,ct,{})),A(v);for(let H=0;H<_.length;H+=1)A(_[H]);V&&V.invalidate(),k&&(R=$e(e,qn,{})),T=!1},d(k){k&&j(e),k&&o&&o.end(),n[32](null),X(a),k&&h&&h.end(),v&&v.d();for(let H=0;H<_.length;H+=1)_[H].d();k&&R&&R.end(),O=!1,be(N)}}}function tt(n){n.preventDefault()}function Dn(n,e,t){let l,i,s,o;he(n,qe,M=>t(43,i=M)),he(n,le,M=>t(44,s=M)),he(n,je,M=>t(14,o=M));var u=this&&this.__awaiter||function(M,J,ne,ce){function ge(ye){return ye instanceof ne?ye:new ne(function(Se){Se(ye)})}return new(ne||(ne=Promise))(function(ye,Se){function fn(Ce){try{Qe(ce.next(Ce))}catch(Ze){Se(Ze)}}function cn(Ce){try{Qe(ce.throw(Ce))}catch(Ze){Se(Ze)}}function Qe(Ce){Ce.done?ye(Ce.value):ge(Ce.value).then(fn,cn)}Qe((ce=ce.apply(M,J||[])).next())})};const a=Xt();let{root:r=!1}=e,{content:f=""}=e,{children:c}=e,{index:d}=e,{level:h}=e,{focus:g=!1}=e,{parentPath:m=[]}=e,{addSibling:p=()=>!1}=e,{deleteSelf:_=()=>{}}=e,{focusSibling:b=()=>{}}=e,{focusParent:C=()=>{}}=e,{dispatchSelfFocus:V=()=>{}}=e;const{getinvert:R}=st("invert");let T=R();const{getColumnCount:O}=st("columnCount");let N=O(),q,P,v=!1,D=-1;function W(M,J){J?(t(10,v=!0),D=M):M==D&&(t(10,v=!1),D=-1)}let k=!1;function H(){g?(V(d,!0),h>=1&&(s[i].history.addFocus([...l]),a("saveFocus",l),q&&q.focus())):(V(d,!1),k=!1)}Jt(H);function ue(){g&&(V(d,!0),s[i].history.addFocus([...l]))}let Re="";function Je(){g||He()}function We(){g&&t(0,g=!1)}class pe{constructor(J,ne=()=>!0,ce=!0,ge=!0,ye=!0){this.require=ne,this.stopRepeat=ce,this.preventDefault=ge,this.blur=ye,this.handle=function(Se){return!this.require()||(this.preventDefault&&Se.preventDefault(),this.stopRepeat&&Se.repeat==!0)?!1:(this.blur&&t(0,g=!1),J(),!0)}}}const Me={shift:{Enter:new pe(()=>{se(0,0)&&ke(0,0)})},other:{Enter:new pe(()=>{p(d,1)&&b(d,1)}),Backspace:new pe(()=>{_(d)},()=>f.length==0),ArrowUp:new pe(()=>b(d,-1)),ArrowDown:new pe(()=>b(d,1)),ArrowLeft:new pe(()=>C()),ArrowRight:new pe(()=>{c.length>0?ke(0,0):b(d,1)})}};function L(M){M.shiftKey&&Me.shift[M.key]?Me.shift[M.key].handle(M):Me.other[M.key]&&Me.other[M.key].handle(M)}function x(M){k||s[i].history.addPending("edit",[...l],{lastContent:f,getNextContent(){return f},createEditBreak(){k=!1}}),k=!0}function se(M,J){let ne=M+J;if(h<N){let ce=[...c];ce.splice(ne,0,Oe(ne,h+1,!0));for(let ge=ne;ge<ce.length;ge++)ce[ge].index=ge;return s[i].history.add("add",[...l,ne]),t(2,c=[...ce]),!0}else return He(),!1}function De(M){return u(this,void 0,void 0,function*(){if(c.length>1||h>=1){let J=[...c];s[i].history.add("delete",[...l,M],{box:J[M]}),J[M].focus=!1,t(2,c=[...J]),yield Ie(),J.splice(M,1);for(let ne=0;ne<J.length;ne++)J[ne].index=ne;return t(2,c=[...J]),c[M-1]?ke(M-1,0):c.length==0?He():M==0&&ke(0,0),!0}else return ke(0,0),!1})}function ke(M,J){let ne=M+J;if(ne<0){He();return}ne>=c.length?c[c.length-1].children.length>0?t(2,c[c.length-1].children[0].focus=!0,c):t(2,c[M].focus=!0,c):t(2,c[ne].focus=!0,c),t(2,c)}function He(){t(0,g=!0)}let Ge,Ye;const $t=()=>{p(d,0)&&b(d,0)};function xt(M){f=M,t(1,f)}function en(M){G[M?"unshift":"push"](()=>{q=M,t(9,q)})}const tn=()=>{p(d,1)&&b(d,1)},nn=()=>{se(0,0),ke(0,0)};function ln(M,J){n.$$.not_equal(J.content,M)&&(J.content=M,t(2,c))}function on(M,J){n.$$.not_equal(J.children,M)&&(J.children=M,t(2,c))}function sn(M,J){n.$$.not_equal(J.index,M)&&(J.index=M,t(2,c))}function un(M,J){n.$$.not_equal(J.level,M)&&(J.level=M,t(2,c))}function an(M,J){n.$$.not_equal(J.focus,M)&&(J.focus=M,t(2,c))}function rn(M){me.call(this,n,M)}return n.$$set=M=>{"root"in M&&t(3,r=M.root),"content"in M&&t(1,f=M.content),"children"in M&&t(2,c=M.children),"index"in M&&t(4,d=M.index),"level"in M&&t(5,h=M.level),"focus"in M&&t(0,g=M.focus),"parentPath"in M&&t(26,m=M.parentPath),"addSibling"in M&&t(6,p=M.addSibling),"deleteSelf"in M&&t(27,_=M.deleteSelf),"focusSibling"in M&&t(7,b=M.focusSibling),"focusParent"in M&&t(28,C=M.focusParent),"dispatchSelfFocus"in M&&t(29,V=M.dispatchSelfFocus)},n.$$.update=()=>{n.$$.dirty[0]&67108880&&t(8,l=[...m,d]),n.$$.dirty[0]&1&&H(),n.$$.dirty[0]&256&&ue(),n.$$.dirty[0]&48&&(h==1&&d==0?t(11,Re="type here"):t(11,Re="")),n.$$.dirty[0]&32&&(h%2==0&&!T||h%2==1&&T?t(12,Ge="accent-secondary"):t(12,Ge="accent")),n.$$.dirty[0]&32&&(h%2==0&&!T||h%2==1&&T?t(13,Ye="accent"):t(13,Ye="accent-secondary"))},[g,f,c,r,d,h,p,b,l,q,v,Re,Ge,Ye,o,N,P,W,Je,We,L,x,se,De,ke,He,m,_,C,V,$t,xt,en,tn,nn,ln,on,sn,un,an,rn]}class Qt extends ee{constructor(e){super();te(this,e,Dn,Rn,$,{root:3,content:1,children:2,index:4,level:5,focus:0,parentPath:26,addSibling:6,deleteSelf:27,focusSibling:7,focusParent:28,dispatchSelfFocus:29},null,[-1,-1])}}function Hn(n){let e,t;return{c(){e=S("div"),t=_e(n[0]),w(e,"class","top svelte-10zixka")},m(l,i){B(l,e,i),y(e,t)},p(l,[i]){i&1&&we(t,l[0])},i:ie,o:ie,d(l){l&&j(e)}}}function Bn(n,e,t){let{column:l}=e;return n.$$set=i=>{"column"in i&&t(0,l=i.column)},[l]}class jn extends ee{constructor(e){super();te(this,e,Bn,Hn,$,{column:0})}}function vt(n,e,t){const l=n.slice();return l[8]=e[t],l[10]=t,l}function bt(n,e,t){const l=n.slice();return l[11]=e[t],l[10]=t,l}function wt(n){let e,t,l,i,s;return t=new jn({props:{column:n[11]}}),t.$on("focusFlow",n[7]),{c(){e=S("div"),U(t.$$.fragment),l=z(),w(e,"class",i=oe(`header palette-${!!(n[10]%2)==n[0].invert?"accent":"accent-secondary"}`)+" svelte-150s666")},m(o,u){B(o,e,u),K(t,e,null),y(e,l),s=!0},p(o,u){const a={};u&1&&(a.column=o[11]),t.$set(a),(!s||u&1&&i!==(i=oe(`header palette-${!!(o[10]%2)==o[0].invert?"accent":"accent-secondary"}`)+" svelte-150s666"))&&w(e,"class",i)},i(o){s||(F(t.$$.fragment,o),s=!0)},o(o){A(t.$$.fragment,o),s=!1},d(o){o&&j(e),X(t)}}}function kt(n){let e,t;return{c(){e=S("div"),w(e,"class",t=oe(`column palette-${!!(n[10]%2)==n[0].invert?"plain":"plain-secondary"}`)+" svelte-150s666")},m(l,i){B(l,e,i)},p(l,i){i&1&&t!==(t=oe(`column palette-${!!(l[10]%2)==l[0].invert?"plain":"plain-secondary"}`)+" svelte-150s666")&&w(e,"class",t)},d(l){l&&j(e)}}}function Nn(n){let e,t,l,i,s,o,u,a,r,f,c,d,h,g,m;function p(v){n[2](v)}function _(v){n[3](v)}function b(v){n[4](v)}function C(v){n[5](v)}function V(v){n[6](v)}let R={root:!0};n[0].content!==void 0&&(R.content=n[0].content),n[0].children!==void 0&&(R.children=n[0].children),n[0].index!==void 0&&(R.index=n[0].index),n[0].level!==void 0&&(R.level=n[0].level),n[0].focus!==void 0&&(R.focus=n[0].focus),i=new Qt({props:R}),G.push(()=>Q(i,"content",p)),G.push(()=>Q(i,"children",_)),G.push(()=>Q(i,"index",b)),G.push(()=>Q(i,"level",C)),G.push(()=>Q(i,"focus",V)),i.$on("saveFocus",n[1]);let T=n[0].columns,O=[];for(let v=0;v<T.length;v+=1)O[v]=wt(bt(n,T,v));const N=v=>A(O[v],1,1,()=>{O[v]=null});let q=n[0].columns,P=[];for(let v=0;v<q.length;v+=1)P[v]=kt(vt(n,q,v));return{c(){e=S("div"),t=S("div"),l=S("div"),U(i.$$.fragment),f=z(),c=S("div");for(let v=0;v<O.length;v+=1)O[v].c();d=z(),h=S("div");for(let v=0;v<P.length;v+=1)P[v].c();w(l,"class","content svelte-150s666"),w(c,"class","headers svelte-150s666"),w(h,"class","columns svelte-150s666"),w(t,"class","viewer svelte-150s666"),w(e,"class","top svelte-150s666"),w(e,"style",g=`--column-count: ${n[0].columns.length};`),E(e,"invert",n[0].invert)},m(v,D){B(v,e,D),y(e,t),y(t,l),K(i,l,null),y(t,f),y(t,c);for(let W=0;W<O.length;W+=1)O[W].m(c,null);y(t,d),y(t,h);for(let W=0;W<P.length;W+=1)P[W].m(h,null);m=!0},p(v,[D]){const W={};if(!s&&D&1&&(s=!0,W.content=v[0].content,Z(()=>s=!1)),!o&&D&1&&(o=!0,W.children=v[0].children,Z(()=>o=!1)),!u&&D&1&&(u=!0,W.index=v[0].index,Z(()=>u=!1)),!a&&D&1&&(a=!0,W.level=v[0].level,Z(()=>a=!1)),!r&&D&1&&(r=!0,W.focus=v[0].focus,Z(()=>r=!1)),i.$set(W),D&1){T=v[0].columns;let k;for(k=0;k<T.length;k+=1){const H=bt(v,T,k);O[k]?(O[k].p(H,D),F(O[k],1)):(O[k]=wt(H),O[k].c(),F(O[k],1),O[k].m(c,null))}for(re(),k=T.length;k<O.length;k+=1)N(k);fe()}if(D&1){q=v[0].columns;let k;for(k=0;k<q.length;k+=1){const H=vt(v,q,k);P[k]?P[k].p(H,D):(P[k]=kt(H),P[k].c(),P[k].m(h,null))}for(;k<P.length;k+=1)P[k].d(1);P.length=q.length}(!m||D&1&&g!==(g=`--column-count: ${v[0].columns.length};`))&&w(e,"style",g),D&1&&E(e,"invert",v[0].invert)},i(v){if(!m){F(i.$$.fragment,v);for(let D=0;D<T.length;D+=1)F(O[D]);m=!0}},o(v){A(i.$$.fragment,v),O=O.filter(Boolean);for(let D=0;D<O.length;D+=1)A(O[D]);m=!1},d(v){v&&j(e),X(i),Le(O,v),Le(P,v)}}}function On(n,e,t){let{root:l}=e;ut("invert",{getinvert:()=>l.invert}),ut("columnCount",{getColumnCount:()=>l.columns.length});function i(c){t(0,l.lastFocus=c.detail,l),t(0,l)}function s(c){n.$$.not_equal(l.content,c)&&(l.content=c,t(0,l))}function o(c){n.$$.not_equal(l.children,c)&&(l.children=c,t(0,l))}function u(c){n.$$.not_equal(l.index,c)&&(l.index=c,t(0,l))}function a(c){n.$$.not_equal(l.level,c)&&(l.level=c,t(0,l))}function r(c){n.$$.not_equal(l.focus,c)&&(l.focus=c,t(0,l))}function f(c){me.call(this,n,c)}return n.$$set=c=>{"root"in c&&t(0,l=c.root)},[l,i,s,o,u,a,r,f]}class zn extends ee{constructor(e){super();te(this,e,On,Nn,$,{root:0})}}function Vn(n){let e,t,l,i,s,o;function u(r){n[11](r)}let a={nowrap:!0,placeholder:"type name here"};return n[1]!==void 0&&(a.value=n[1]),l=new Wt({props:a}),G.push(()=>Q(l,"value",u)),n[12](l),l.$on("blur",n[5]),l.$on("focus",n[6]),l.$on("keydown",n[7]),l.$on("beforeinput",n[8]),{c(){e=S("div"),t=S("div"),U(l.$$.fragment),w(t,"class","content svelte-6063it"),E(t,"focus",n[0]),w(e,"class",s=oe(`top palette-${n[4]}`)+" svelte-6063it"),E(e,"invert",n[2])},m(r,f){B(r,e,f),y(e,t),K(l,t,null),o=!0},p(r,[f]){const c={};!i&&f&2&&(i=!0,c.value=r[1],Z(()=>i=!1)),l.$set(c),f&1&&E(t,"focus",r[0]),(!o||f&16&&s!==(s=oe(`top palette-${r[4]}`)+" svelte-6063it"))&&w(e,"class",s),f&20&&E(e,"invert",r[2])},i(r){o||(F(l.$$.fragment,r),o=!0)},o(r){A(l.$$.fragment,r),o=!1},d(r){r&&j(e),n[12](null),X(l)}}}function En(n,e,t){let l,i,s;he(n,qe,T=>t(15,i=T)),he(n,le,T=>t(16,s=T));const o=Xt();let{content:u}=e,{children:a}=e,{index:r}=e,{focus:f}=e,{invert:c}=e,d;function h(){f&&t(0,f=!1)}function g(){f||t(0,f=!0)}function m(T){(T.key=="Enter"||T.key=="ArrowDown")&&(T.preventDefault(),a.length>0&&(t(9,a[0].focus=!0,a),t(0,f=!1)))}let p=!1;function _(){f?(s[i].history.addFocus([...l]),o("saveFocus",l),d&&d.focus()):p=!1}Jt(_);function b(T){p||s[i].history.addPending("edit",[...l],{lastContent:u,getNextContent(){return u},createEditBreak(){p=!1}}),p=!0}let C="plain";function V(T){u=T,t(1,u)}function R(T){G[T?"unshift":"push"](()=>{d=T,t(3,d)})}return n.$$set=T=>{"content"in T&&t(1,u=T.content),"children"in T&&t(9,a=T.children),"index"in T&&t(10,r=T.index),"focus"in T&&t(0,f=T.focus),"invert"in T&&t(2,c=T.invert)},n.$$.update=()=>{n.$$.dirty&1024&&(l=[r]),n.$$.dirty&1&&_(),n.$$.dirty&4&&(c?t(4,C="accent-secondary"):t(4,C="accent"))},[f,u,c,d,C,h,g,m,b,a,r,V,R]}class In extends ee{constructor(e){super();te(this,e,En,Vn,$,{content:1,children:9,index:10,focus:0,invert:2})}}function yt(n,e,t){const l=n.slice();return l[1]=e[t],l[3]=t,l}function Un(n){let e;return{c(){e=_e("+")},m(t,l){B(t,e,l)},d(t){t&&j(e)}}}function St(n){let e,t,l=n[1]+"",i,s=n[3]!=0&&Un();return{c(){s&&s.c(),e=z(),t=S("kbd"),i=_e(l),w(t,"class","key svelte-eb7adw")},m(o,u){s&&s.m(o,u),B(o,e,u),B(o,t,u),y(t,i)},p(o,u){u&1&&l!==(l=o[1]+"")&&we(i,l)},d(o){s&&s.d(o),o&&j(e),o&&j(t)}}}function Kn(n){let e,t=n[0],l=[];for(let i=0;i<t.length;i+=1)l[i]=St(yt(n,t,i));return{c(){e=S("span");for(let i=0;i<l.length;i+=1)l[i].c();w(e,"class","top svelte-eb7adw")},m(i,s){B(i,e,s);for(let o=0;o<l.length;o+=1)l[o].m(e,null)},p(i,[s]){if(s&1){t=i[0];let o;for(o=0;o<t.length;o+=1){const u=yt(i,t,o);l[o]?l[o].p(u,s):(l[o]=St(u),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},i:ie,o:ie,d(i){i&&j(e),Le(l,i)}}}function Xn(n,e,t){let{keys:l}=e;return n.$$set=i=>{"keys"in i&&t(0,l=i.keys)},[l]}class Jn extends ee{constructor(e){super();te(this,e,Xn,Kn,$,{keys:0})}}function Wn(n){let e;const t=n[13].default,l=nt(t,n,n[12],null);return{c(){l&&l.c()},m(i,s){l&&l.m(i,s),e=!0},p(i,s){l&&l.p&&(!e||s&4096)&&lt(l,t,i,i[12],e?ot(t,i[12],s,null):it(i[12]),null)},i(i){e||(F(l,i),e=!0)},o(i){A(l,i),e=!1},d(i){l&&l.d(i)}}}function Gn(n){let e,t,l,i,s,o;const u=n[13].default,a=nt(u,n,n[12],null);let r=n[4]&&Ct(n);return{c(){e=S("div"),a&&a.c(),t=z(),r&&r.c(),l=Xe(),w(e,"class","element svelte-1p8z6bu")},m(f,c){B(f,e,c),a&&a.m(e,null),n[14](e),B(f,t,c),r&&r.m(f,c),B(f,l,c),i=!0,s||(o=[I(e,"mouseover",n[8]),I(e,"focus",n[8]),I(e,"mouseleave",n[10]),I(e,"blur",n[10]),I(e,"mousemove",n[9])],s=!0)},p(f,c){a&&a.p&&(!i||c&4096)&&lt(a,u,f,f[12],i?ot(u,f[12],c,null):it(f[12]),null),f[4]?r?(r.p(f,c),c&16&&F(r,1)):(r=Ct(f),r.c(),F(r,1),r.m(l.parentNode,l)):r&&(re(),A(r,1,1,()=>{r=null}),fe())},i(f){i||(F(a,f),F(r),i=!0)},o(f){A(a,f),A(r),i=!1},d(f){f&&j(e),a&&a.d(f),n[14](null),f&&j(t),r&&r.d(f),f&&j(l),s=!1,be(o)}}}function Ct(n){let e,t,l,i,s,o,u,a=!n[2]&&n[1]&&Ft(n),r=n[2]&&Lt(n);return{c(){e=S("div"),t=S("div"),l=_e(n[0]),i=z(),a&&a.c(),s=z(),r&&r.c(),w(t,"class","content"),ze(e,"top",n[6]+"px"),ze(e,"left",n[5]+"px"),w(e,"class","tooltip svelte-1p8z6bu")},m(f,c){B(f,e,c),y(e,t),y(t,l),y(e,i),a&&a.m(e,null),y(e,s),r&&r.m(e,null),n[15](e),u=!0},p(f,c){(!u||c&1)&&we(l,f[0]),!f[2]&&f[1]?a?(a.p(f,c),c&6&&F(a,1)):(a=Ft(f),a.c(),F(a,1),a.m(e,s)):a&&(re(),A(a,1,1,()=>{a=null}),fe()),f[2]?r?r.p(f,c):(r=Lt(f),r.c(),r.m(e,null)):r&&(r.d(1),r=null),(!u||c&64)&&ze(e,"top",f[6]+"px"),(!u||c&32)&&ze(e,"left",f[5]+"px")},i(f){u||(F(a),ve(()=>{o||(o=Ae(e,dt,{},!0)),o.run(1)}),u=!0)},o(f){A(a),o||(o=Ae(e,dt,{},!1)),o.run(0),u=!1},d(f){f&&j(e),a&&a.d(),r&&r.d(),n[15](null),f&&o&&o.end()}}}function Ft(n){let e,t;return e=new Jn({props:{keys:n[1]}}),{c(){U(e.$$.fragment)},m(l,i){K(e,l,i),t=!0},p(l,i){const s={};i&2&&(s.keys=l[1]),e.$set(s)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Lt(n){let e,t;return{c(){e=S("div"),t=_e(n[2]),w(e,"class","disabled svelte-1p8z6bu")},m(l,i){B(l,e,i),y(e,t)},p(l,i){i&4&&we(t,l[2])},d(l){l&&j(e)}}}function Yn(n){let e,t,l,i;const s=[Gn,Wn],o=[];function u(a,r){return a[0]?0:1}return e=u(n),t=o[e]=s[e](n),{c(){t.c(),l=Xe()},m(a,r){o[e].m(a,r),B(a,l,r),i=!0},p(a,[r]){let f=e;e=u(a),e===f?o[e].p(a,r):(re(),A(o[f],1,1,()=>{o[f]=null}),fe(),t=o[e],t?t.p(a,r):(t=o[e]=s[e](a),t.c()),F(t,1),t.m(l.parentNode,l))},i(a){i||(F(t),i=!0)},o(a){A(t),i=!1},d(a){o[e].d(a),a&&j(l)}}}function Qn(n,e,t){let{$$slots:l={},$$scope:i}=e;var s=this&&this.__awaiter||function(R,T,O,N){function q(P){return P instanceof O?P:new O(function(v){v(P)})}return new(O||(O=Promise))(function(P,v){function D(H){try{k(N.next(H))}catch(ue){v(ue)}}function W(H){try{k(N.throw(H))}catch(ue){v(ue)}}function k(H){H.done?P(H.value):q(H.value).then(D,W)}k((N=N.apply(R,T||[])).next())})};let{content:o}=e,{shortcut:u}=e,{disabled:a=!1}=e,{layout:r="bottom"}=e,f=!1,c=0,d=0,h,g;function m(){t(4,f=!0),p()}function p(){if(g){let R=h.getBoundingClientRect();r=="bottom"||r=="top"?(t(5,c=R.left-g.offsetWidth/2+R.width/2),c<4?t(5,c=4):c+g.offsetWidth>window.innerWidth-4&&t(5,c=window.innerWidth-g.offsetWidth-4),r=="bottom"?t(6,d=R.bottom+4):r=="top"&&t(6,d=R.top-g.offsetHeight-4)):(r=="left"||r=="right")&&(t(6,d=R.top-g.offsetHeight/2+R.height/2),d<4?t(6,d=4):d+g.offsetHeight>window.innerHeight-4&&t(6,d=window.innerHeight-g.offsetHeight-4),r=="left"?t(5,c=R.left-g.offsetWidth-4):r=="right"&&t(5,c=R.right+4))}}function _(){return s(this,void 0,void 0,function*(){yield Ie(),p()})}function b(){t(4,f=!1)}function C(R){G[R?"unshift":"push"](()=>{h=R,t(7,h)})}function V(R){G[R?"unshift":"push"](()=>{g=R,t(3,g)})}return n.$$set=R=>{"content"in R&&t(0,o=R.content),"shortcut"in R&&t(1,u=R.shortcut),"disabled"in R&&t(2,a=R.disabled),"layout"in R&&t(11,r=R.layout),"$$scope"in R&&t(12,i=R.$$scope)},n.$$.update=()=>{n.$$.dirty&2063&&_()},[o,u,a,g,f,c,d,h,m,p,b,r,i,l,C,V]}class Zn extends ee{constructor(e){super();te(this,e,Qn,Yn,$,{content:0,shortcut:1,disabled:2,layout:11})}}function Mt(n){let e,t;return{c(){e=S("p"),t=_e(n[1]),w(e,"class","svelte-1ganils")},m(l,i){B(l,e,i),y(e,t)},p(l,i){i&2&&we(t,l[1])},d(l){l&&j(e)}}}function $n(n){let e,t,l,i,s,o,u,a;t=new Gt({props:{name:n[0],size:"var(--button-size)"}});let r=n[1]&&Mt(n);return{c(){e=S("button"),U(t.$$.fragment),l=z(),r&&r.c(),w(e,"class",i=oe(`top palette-${n[3]?"disabled":n[4]}`)+" svelte-1ganils"),e.disabled=s=!!n[3],E(e,"disabled",n[3])},m(f,c){B(f,e,c),K(t,e,null),y(e,l),r&&r.m(e,null),o=!0,u||(a=[I(e,"click",n[8]),I(e,"mousedown",el)],u=!0)},p(f,c){const d={};c&1&&(d.name=f[0]),t.$set(d),f[1]?r?r.p(f,c):(r=Mt(f),r.c(),r.m(e,null)):r&&(r.d(1),r=null),(!o||c&24&&i!==(i=oe(`top palette-${f[3]?"disabled":f[4]}`)+" svelte-1ganils"))&&w(e,"class",i),(!o||c&8&&s!==(s=!!f[3]))&&(e.disabled=s),c&24&&E(e,"disabled",f[3])},i(f){o||(F(t.$$.fragment,f),o=!0)},o(f){A(t.$$.fragment,f),o=!1},d(f){f&&j(e),X(t),r&&r.d(),u=!1,be(a)}}}function xn(n){let e,t;return e=new Zn({props:{content:n[2],disabled:n[3]&&n[6],shortcut:n[5],layout:n[7],$$slots:{default:[$n]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(l,i){K(e,l,i),t=!0},p(l,[i]){const s={};i&4&&(s.content=l[2]),i&72&&(s.disabled=l[3]&&l[6]),i&32&&(s.shortcut=l[5]),i&128&&(s.layout=l[7]),i&539&&(s.$$scope={dirty:i,ctx:l}),e.$set(s)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function el(n){n.preventDefault()}function tl(n,e,t){let{icon:l}=e,{text:i=null}=e,{tooltip:s=null}=e,{disabled:o=!1}=e,{palette:u="plain"}=e,{shortcut:a=null}=e,{disabledReason:r="disabled"}=e,{tooltipLayout:f="bottom"}=e;function c(d){me.call(this,n,d)}return n.$$set=d=>{"icon"in d&&t(0,l=d.icon),"text"in d&&t(1,i=d.text),"tooltip"in d&&t(2,s=d.tooltip),"disabled"in d&&t(3,o=d.disabled),"palette"in d&&t(4,u=d.palette),"shortcut"in d&&t(5,a=d.shortcut),"disabledReason"in d&&t(6,r=d.disabledReason),"tooltipLayout"in d&&t(7,f=d.tooltipLayout)},[l,i,s,o,u,a,r,f,c]}class ae extends ee{constructor(e){super();te(this,e,tl,xn,$,{icon:0,text:1,tooltip:2,disabled:3,palette:4,shortcut:5,disabledReason:6,tooltipLayout:7})}}function nl(n){let e,t;const l=n[1].default,i=nt(l,n,n[0],null);return{c(){e=S("div"),i&&i.c(),w(e,"class","top svelte-p5tbxi")},m(s,o){B(s,e,o),i&&i.m(e,null),t=!0},p(s,[o]){i&&i.p&&(!t||o&1)&&lt(i,l,s,s[0],t?ot(l,s[0],o,null):it(s[0]),null)},i(s){t||(F(i,s),t=!0)},o(s){A(i,s),t=!1},d(s){s&&j(e),i&&i.d(s)}}}function ll(n,e,t){let{$$slots:l={},$$scope:i}=e;return n.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,l]}class Zt extends ee{constructor(e){super();te(this,e,ll,nl,$,{})}}function il(n){let e,t,l,i,s,o,u,a,r,f,c,d;return e=new ae({props:{icon:"undo",disabled:n[2][n[1]].history.index==-1,tooltip:"undo",shortcut:["cmd","z"],disabledReason:"nothing to undo"}}),e.$on("click",n[7]),l=new ae({props:{disabled:n[2][n[1]].history.index==n[2][n[1]].history.data.length-1,icon:"redo",tooltip:"redo",shortcut:["cmd","shift","z"],disabledReason:"nothing to redo"}}),l.$on("click",n[8]),s=new ae({props:{icon:"addRight",disabled:!n[0],disabledReason:Ve,tooltip:"add response",shortcut:["shift","enter"]}}),s.$on("click",n[4]),u=new ae({props:{icon:"addUp",disabled:!n[0],disabledReason:Ve,tooltip:"add arguement above"}}),u.$on("click",n[9]),r=new ae({props:{icon:"addDown",disabled:!n[0],disabledReason:Ve,tooltip:"add arguement below",shortcut:["enter"]}}),r.$on("click",n[10]),c=new ae({props:{icon:"delete",disabled:!n[0],disabledReason:Ve,tooltip:"delete selected"}}),c.$on("click",n[3]),{c(){U(e.$$.fragment),t=z(),U(l.$$.fragment),i=z(),U(s.$$.fragment),o=z(),U(u.$$.fragment),a=z(),U(r.$$.fragment),f=z(),U(c.$$.fragment)},m(h,g){K(e,h,g),B(h,t,g),K(l,h,g),B(h,i,g),K(s,h,g),B(h,o,g),K(u,h,g),B(h,a,g),K(r,h,g),B(h,f,g),K(c,h,g),d=!0},p(h,g){const m={};g&6&&(m.disabled=h[2][h[1]].history.index==-1),e.$set(m);const p={};g&6&&(p.disabled=h[2][h[1]].history.index==h[2][h[1]].history.data.length-1),l.$set(p);const _={};g&1&&(_.disabled=!h[0]),s.$set(_);const b={};g&1&&(b.disabled=!h[0]),u.$set(b);const C={};g&1&&(C.disabled=!h[0]),r.$set(C);const V={};g&1&&(V.disabled=!h[0]),c.$set(V)},i(h){d||(F(e.$$.fragment,h),F(l.$$.fragment,h),F(s.$$.fragment,h),F(u.$$.fragment,h),F(r.$$.fragment,h),F(c.$$.fragment,h),d=!0)},o(h){A(e.$$.fragment,h),A(l.$$.fragment,h),A(s.$$.fragment,h),A(u.$$.fragment,h),A(r.$$.fragment,h),A(c.$$.fragment,h),d=!1},d(h){X(e,h),h&&j(t),X(l,h),h&&j(i),X(s,h),h&&j(o),X(u,h),h&&j(a),X(r,h),h&&j(f),X(c,h)}}}function ol(n){let e,t,l,i,s,o;return l=new Zt({props:{$$slots:{default:[il]},$$scope:{ctx:n}}}),{c(){e=S("div"),t=S("div"),U(l.$$.fragment),w(t,"class","buttons-wrapper svelte-psed4t"),w(e,"class","top svelte-psed4t")},m(u,a){B(u,e,a),y(e,t),K(l,t,null),i=!0,s||(o=I(e,"mousedown",sl),s=!0)},p(u,[a]){const r={};a&8199&&(r.$$scope={dirty:a,ctx:u}),l.$set(r)},i(u){i||(F(l.$$.fragment,u),i=!0)},o(u){A(l.$$.fragment,u),i=!1},d(u){u&&j(e),X(l),s=!1,o()}}}let Ve="no cell selected";function sl(n){n.preventDefault()}function ul(n,e,t){let l,i;he(n,qe,p=>t(1,l=p)),he(n,le,p=>t(2,i=p));var s=this&&this.__awaiter||function(p,_,b,C){function V(R){return R instanceof b?R:new b(function(T){T(R)})}return new(b||(b=Promise))(function(R,T){function O(P){try{q(C.next(P))}catch(v){T(v)}}function N(P){try{q(C.throw(P))}catch(v){T(v)}}function q(P){P.done?R(P.value):V(P.value).then(O,N)}q((C=C.apply(p,_||[])).next())})};let{flow:o}=e,u=!1;function a(){return s(this,void 0,void 0,function*(){if(yield Ie(),o.lastFocus&&o.lastFocus.length>1){let p=de(o.lastFocus);t(0,u=p==null?void 0:p.focus)}})}Kt(function(){a()});function r(){return s(this,void 0,void 0,function*(){if(!u)return;let p=de(o.lastFocus,1),_=de(o.lastFocus),b=[...p.children];if(b.length>1||p.level>=1){i[l].history.add("delete",o.lastFocus,{box:b[_.index]}),b[_.index].focus=!1,p.children=[...b],t(6,o),yield Ie(),b.splice(_.index,1);for(let C=_.index;C<b.length;C++)b[C].index=C;b.length<=0?p.focus=!0:_.index>=b.length?b[b.length-1].focus=!0:b[_.index].focus=!0,p.children=[...b],t(6,o)}})}function f(){if(!u)return;let p=de(o.lastFocus),_=[...p.children];if(p.level<o.columns.length){_.splice(0,0,Oe(0,p.level+1,!1));for(let b=0;b<_.length;b++)_[b].index=b;i[l].history.add("add",[...o.lastFocus,0]),p.children=[..._],t(6,o)}}function c(p){if(!u)return;let _=de(o.lastFocus,1),b=de(o.lastFocus),C=[..._.children];C.splice(b.index+p,0,Oe(b.index+p,b.level,!1));for(let R=b.index;R<C.length;R++)C[R].index=R;let V=[...o.lastFocus];p==0?(V[V.length-1]-=0,t(6,o.lastFocus[o.lastFocus.length-1]+=1,o)):V[V.length-1]+=1,i[l].history.add("add",V),_.children=[...C],t(6,o)}const d=()=>i[l].history.undo(),h=()=>i[l].history.redo(),g=()=>c(0),m=()=>c(1);return n.$$set=p=>{"flow"in p&&t(6,o=p.flow)},[u,l,i,r,f,c,o,d,h,g,m]}class al extends ee{constructor(e){super();te(this,e,ul,ol,$,{flow:6})}}function rl(n){let e,t,l,i,s,o,u,a,r;l=new ae({props:{icon:"delete",tooltip:"close"}}),l.$on("click",function(){gn(n[1])&&n[1].apply(this,arguments)});var f=n[0];function c(d){return{props:{closePopup:d[1]}}}return f&&(s=new f(c(n))),{c(){e=S("div"),t=S("div"),U(l.$$.fragment),i=z(),s&&U(s.$$.fragment),w(t,"class","close svelte-xzcwlv"),w(e,"class","top svelte-xzcwlv")},m(d,h){B(d,e,h),y(e,t),K(l,t,null),y(e,i),s&&K(s,e,null),u=!0,a||(r=I(window,"keydown",n[2]),a=!0)},p(d,[h]){n=d;const g={};if(h&2&&(g.closePopup=n[1]),f!==(f=n[0])){if(s){re();const m=s;A(m.$$.fragment,1,0,()=>{X(m,1)}),fe()}f?(s=new f(c(n)),U(s.$$.fragment),F(s.$$.fragment,1),K(s,e,null)):s=null}else f&&s.$set(g)},i(d){u||(F(l.$$.fragment,d),s&&F(s.$$.fragment,d),ve(()=>{o||(o=Ae(e,ht,{},!0)),o.run(1)}),u=!0)},o(d){A(l.$$.fragment,d),s&&A(s.$$.fragment,d),o||(o=Ae(e,ht,{},!1)),o.run(0),u=!1},d(d){d&&j(e),X(l),s&&X(s),d&&o&&o.end(),a=!1,r()}}}function fl(n,e,t){let{component:l}=e,{closeSelf:i}=e;function s(o){o.key==="Escape"&&i()}return n.$$set=o=>{"component"in o&&t(0,l=o.component),"closeSelf"in o&&t(1,i=o.closeSelf)},[l,i,s]}class cl extends ee{constructor(e){super();te(this,e,fl,rl,$,{component:0,closeSelf:1})}}function dl(n){let e,t,l,i,s,o,u,a,r,f,c;return l=new ae({props:{icon:"download",text:"download as JSON",tooltip:"saves JSON file on your computer",tooltipLayout:"top",disabled:n[0].length==0,disabledReason:"nothing to download"}}),l.$on("click",n[1]),a=new ae({props:{icon:"download",text:"download as XLSX",tooltip:"saves XLSX file on your computer",tooltipLayout:"top",disabled:n[0].length==0,disabledReason:"nothing to download"}}),a.$on("click",n[2]),{c(){e=S("div"),t=S("section"),U(l.$$.fragment),i=z(),s=S("ul"),s.innerHTML=`<li>Can reopen file in this editor</li> 
      <li>More data is saved (last focused cell etc.)</li>`,o=z(),u=S("section"),U(a.$$.fragment),r=z(),f=S("ul"),f.innerHTML="<li>Anyone can view it</li>",w(s,"class","svelte-87ygo3"),w(t,"class","json svelte-87ygo3"),w(f,"class","svelte-87ygo3"),w(u,"class","xlsx svelte-87ygo3"),w(e,"class","top svelte-87ygo3")},m(d,h){B(d,e,h),y(e,t),K(l,t,null),y(t,i),y(t,s),y(e,o),y(e,u),K(a,u,null),y(u,r),y(u,f),c=!0},p(d,[h]){const g={};h&1&&(g.disabled=d[0].length==0),l.$set(g);const m={};h&1&&(m.disabled=d[0].length==0),a.$set(m)},i(d){c||(F(l.$$.fragment,d),F(a.$$.fragment,d),c=!0)},o(d){A(l.$$.fragment,d),A(a.$$.fragment,d),c=!1},d(d){d&&j(e),X(l),X(a)}}}function hl(n,e,t){let l;he(n,le,u=>t(0,l=u));let{closePopup:i}=e;function s(){let u=JSON.stringify(l,(r,f)=>{if(r!=="history")return f}),a=document.createElement("a");a.setAttribute("href","data:text/json;charset=utf-8, "+encodeURIComponent(u)),a.setAttribute("download","flow.json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),i()}function o(){let u=new mn.exports.Workbook;for(let a of l){let f=function(h,g,m){for(;!r[m];){let p=[];for(let _=0;_<a.columns.length;_++)p.push("");r.push(p)}g>=0&&(r[m][g]=h.content),h.children.forEach(function(p,_){f(p,g+1,m+_)})},r=[];f(a,-1,0);let c=a.content;c.length>=31&&(c=c.substring(0,31));let d=u.addWorksheet(c);d.columns=a.columns.map(function(h){return{header:h,width:25}});for(let h=0;h<r.length;h++){let g=d.getRow(h+2);for(let m=0;m<r[h].length;m++)g.getCell(m+1).value=r[h][m]}d.getRow(1).font={bold:!0}}u.xlsx.writeBuffer({base64:!0}).then(function(a){let r=document.createElement("a"),f=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),c=URL.createObjectURL(f);r.href=c,r.download="flow.xlsx",document.body.appendChild(r),r.click(),setTimeout(function(){document.body.removeChild(r),window.URL.revokeObjectURL(c)},0)}).catch(function(a){console.log(a.message)}),i()}return n.$$set=u=>{"closePopup"in u&&t(3,i=u.closePopup)},[l,s,o,i]}class _l extends ee{constructor(e){super();te(this,e,hl,dl,$,{closePopup:3})}}function pl(n){let e,t,l,i,s;return t=new ae({props:{icon:"upload",text:"choose file from computer",tooltip:"upload a JSON file from your computer",tooltipLayout:"top"}}),t.$on("click",gl),{c(){e=S("div"),U(t.$$.fragment),l=z(),i=S("p"),i.textContent="Or drag and drop a JSON file anywhere in this window",w(i,"class","svelte-1vv9x21"),w(e,"class","top svelte-1vv9x21")},m(o,u){B(o,e,u),K(t,e,null),y(e,l),y(e,i),s=!0},p:ie,i(o){s||(F(t.$$.fragment,o),s=!0)},o(o){A(t.$$.fragment,o),s=!1},d(o){o&&j(e),X(t)}}}function gl(){document.getElementById("uploadId").click()}function ml(n,e,t){let{closePopup:l}=e;return n.$$set=i=>{"closePopup"in i&&t(0,l=i.closePopup)},[l]}class vl extends ee{constructor(e){super();te(this,e,ml,pl,$,{closePopup:0})}}function bl(n){let e,t,l,i,s,o,u;return{c(){e=S("label"),t=S("input"),l=z(),i=S("div"),i.innerHTML='<div class="switch svelte-8bq301"></div>',w(t,"type","checkbox"),w(t,"class","svelte-8bq301"),w(i,"class","background svelte-8bq301"),w(e,"class",s=oe(`palette-${n[1]}`)+" svelte-8bq301")},m(a,r){B(a,e,r),y(e,t),t.checked=n[0],y(e,l),y(e,i),o||(u=I(t,"change",n[3]),o=!0)},p(a,[r]){r&1&&(t.checked=a[0]),r&2&&s!==(s=oe(`palette-${a[1]}`)+" svelte-8bq301")&&w(e,"class",s)},i:ie,o:ie,d(a){a&&j(e),o=!1,u()}}}function wl(n,e,t){let{value:l=!0}=e,{auto:i=!0}=e,s;function o(){l=this.checked,t(0,l)}return n.$$set=u=>{"value"in u&&t(0,l=u.value),"auto"in u&&t(2,i=u.auto)},n.$$.update=()=>{n.$$.dirty&5&&(l?l==i?t(1,s="accent-secondary"):t(1,s="accent"):t(1,s="plain"))},[l,s,i,o]}class kl extends ee{constructor(e){super();te(this,e,wl,bl,$,{value:0,auto:2})}}function Tt(n,e,t){const l=n.slice();return l[7]=e[t],l[9]=t,l}function qt(n){let e;return{c(){e=S("p"),e.textContent="default",w(e,"class","default svelte-1303ds2")},m(t,l){B(t,e,l)},d(t){t&&j(e)}}}function At(n){let e,t,l,i,s,o,u,a=n[7]+"",r,f,c,d,h,g=n[9]==n[2]&&qt();return{c(){e=S("label"),t=S("input"),s=z(),o=S("li"),u=S("p"),r=_e(a),f=z(),g&&g.c(),c=z(),w(t,"type","radio"),w(t,"name",n[1]),t.checked=l=n[9]==n[0],t.__value=i=n[9],t.value=t.__value,w(t,"class","svelte-1303ds2"),n[6][0].push(t),w(u,"class","svelte-1303ds2"),w(o,"class","svelte-1303ds2"),w(e,"class","svelte-1303ds2")},m(m,p){B(m,e,p),y(e,t),t.checked=t.__value===n[0],y(e,s),y(e,o),y(o,u),y(u,r),y(o,f),g&&g.m(o,null),y(e,c),d||(h=I(t,"change",n[5]),d=!0)},p(m,p){p&2&&w(t,"name",m[1]),p&1&&l!==(l=m[9]==m[0])&&(t.checked=l),p&1&&(t.checked=t.__value===m[0]),p&8&&a!==(a=m[7]+"")&&we(r,a),m[9]==m[2]?g||(g=qt(),g.c(),g.m(o,null)):g&&(g.d(1),g=null)},d(m){m&&j(e),n[6][0].splice(n[6][0].indexOf(t),1),g&&g.d(),d=!1,h()}}}function yl(n){let e,t,l,i,s,o,u,a=n[3].options,r=[];for(let f=0;f<a.length;f+=1)r[f]=At(Tt(n,a,f));return{c(){e=S("div"),t=S("div"),l=S("div"),s=z(),o=S("ul");for(let f=0;f<r.length;f+=1)r[f].c();w(l,"class","switch svelte-1303ds2"),w(l,"style",i=`--pos:calc(${n[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`),w(t,"class","background svelte-1303ds2"),w(o,"class","svelte-1303ds2"),w(e,"class",u=oe(`top palette-${n[4]}`)+" svelte-1303ds2")},m(f,c){B(f,e,c),y(e,t),y(t,l),y(e,s),y(e,o);for(let d=0;d<r.length;d+=1)r[d].m(o,null)},p(f,[c]){if(c&1&&i!==(i=`--pos:calc(${f[0]} * (var(--button-size) + var(--padding) * 2) + var(--padding-small))`)&&w(l,"style",i),c&15){a=f[3].options;let d;for(d=0;d<a.length;d+=1){const h=Tt(f,a,d);r[d]?r[d].p(h,c):(r[d]=At(h),r[d].c(),r[d].m(o,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=a.length}c&16&&u!==(u=oe(`top palette-${f[4]}`)+" svelte-1303ds2")&&w(e,"class",u)},i:ie,o:ie,d(f){f&&j(e),Le(r,f)}}}function Sl(n,e,t){let l,{name:i}=e,{value:s}=e,{auto:o}=e,{detail:u}=e;const a=[[]];function r(){s=this.__value,t(0,s)}return n.$$set=f=>{"name"in f&&t(1,i=f.name),"value"in f&&t(0,s=f.value),"auto"in f&&t(2,o=f.auto),"detail"in f&&t(3,u=f.detail)},n.$$.update=()=>{n.$$.dirty&5&&t(4,l=o==s?"accent-secondary":"accent")},[s,i,o,u,l,r,a]}class Cl extends ee{constructor(e){super();te(this,e,Sl,yl,$,{name:1,value:0,auto:2,detail:3})}}function Fl(n){let e,t,l,i,s,o,u,a,r,f,c,d,h,g,m,p;return{c(){e=S("div"),t=S("label"),l=S("div"),s=z(),o=S("input"),f=z(),c=S("label"),d=S("input"),w(l,"class","switch svelte-12gyw47"),w(l,"style",i=`
      left: calc(var(--padding-small) + ${(Math.min(n[0],n[1].max)-n[1].min)/(n[1].max-n[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${n[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`),w(o,"class","slider svelte-12gyw47"),w(o,"type","range"),w(o,"min",u=n[1].min),w(o,"max",a=n[1].max),w(o,"step",r=n[1].step),w(t,"class","svelte-12gyw47"),w(d,"type","number"),w(d,"class","svelte-12gyw47"),w(c,"class","small svelte-12gyw47"),w(e,"class",h=oe(`top palette-${n[3]}`)+" svelte-12gyw47"),w(e,"style",g=`--value: ${n[0]}`),E(e,"hue",n[1].hue)},m(_,b){B(_,e,b),y(e,t),y(t,l),y(t,s),y(t,o),Te(o,n[0]),y(e,f),y(e,c),y(c,d),Te(d,n[0]),m||(p=[I(o,"change",n[8]),I(o,"input",n[8]),I(d,"input",n[9]),I(e,"mousedown",n[4]),I(e,"mousemove",n[5]),I(e,"mouseup",n[6])],m=!0)},p(_,[b]){b&7&&i!==(i=`
      left: calc(var(--padding-small) + ${(Math.min(_[0],_[1].max)-_[1].min)/(_[1].max-_[1].min)} * (100% - var(--button-size) - var(--padding-small) * 2));
      transition: left ${_[2]?"0":"var(--transition-speed)"}
      , background var(--transition-speed);`)&&w(l,"style",i),b&2&&u!==(u=_[1].min)&&w(o,"min",u),b&2&&a!==(a=_[1].max)&&w(o,"max",a),b&2&&r!==(r=_[1].step)&&w(o,"step",r),b&1&&Te(o,_[0]),b&1&&xe(d.value)!==_[0]&&Te(d,_[0]),b&8&&h!==(h=oe(`top palette-${_[3]}`)+" svelte-12gyw47")&&w(e,"class",h),b&1&&g!==(g=`--value: ${_[0]}`)&&w(e,"style",g),b&10&&E(e,"hue",_[1].hue)},i:ie,o:ie,d(_){_&&j(e),m=!1,be(p)}}}function Ll(n,e,t){let l,{value:i}=e,{auto:s}=e,{detail:o}=e,u=!1,a=!1,r=0;function f(m){u=!0,r=m.pageX,t(2,a=!1)}function c(m){u&&Math.abs(r-m.pageX)>3&&t(2,a=!0)}function d(m){u=!1,t(2,a=!1)}function h(){i=xe(this.value),t(0,i)}function g(){i=xe(this.value),t(0,i)}return n.$$set=m=>{"value"in m&&t(0,i=m.value),"auto"in m&&t(7,s=m.auto),"detail"in m&&t(1,o=m.detail)},n.$$.update=()=>{n.$$.dirty&129&&t(3,l=s==i?"accent-secondary":"accent")},[i,o,a,l,f,c,d,s,h,g]}class Ml extends ee{constructor(e){super();te(this,e,Ll,Fl,$,{value:0,auto:7,detail:1})}}function Pt(n){let e,t,l;function i(o){n[8](o)}let s={auto:n[0].auto};return n[1]!==void 0&&(s.value=n[1]),e=new kl({props:s}),G.push(()=>Q(e,"value",i)),{c(){U(e.$$.fragment)},m(o,u){K(e,o,u),l=!0},p(o,u){const a={};u&1&&(a.auto=o[0].auto),!t&&u&2&&(t=!0,a.value=o[1],Z(()=>t=!1)),e.$set(a)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function Rt(n){let e,t,l;function i(o){n[9](o)}let s={name:n[0].name,auto:n[0].auto,detail:n[0].detail};return n[1]!==void 0&&(s.value=n[1]),e=new Cl({props:s}),G.push(()=>Q(e,"value",i)),{c(){U(e.$$.fragment)},m(o,u){K(e,o,u),l=!0},p(o,u){const a={};u&1&&(a.name=o[0].name),u&1&&(a.auto=o[0].auto),u&1&&(a.detail=o[0].detail),!t&&u&2&&(t=!0,a.value=o[1],Z(()=>t=!1)),e.$set(a)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function Dt(n){let e,t,l;function i(o){n[10](o)}let s={auto:n[0].auto,detail:n[0].detail};return n[1]!==void 0&&(s.value=n[1]),e=new Ml({props:s}),G.push(()=>Q(e,"value",i)),{c(){U(e.$$.fragment)},m(o,u){K(e,o,u),l=!0},p(o,u){const a={};u&1&&(a.auto=o[0].auto),u&1&&(a.detail=o[0].detail),!t&&u&2&&(t=!0,a.value=o[1],Z(()=>t=!1)),e.$set(a)},i(o){l||(F(e.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function Tl(n){let e,t,l,i=n[0].name+"",s,o,u,a,r,f,c,d,h;a=new ae({props:{icon:"delete",tooltip:"reset to default",tooltipLayout:"right"}}),a.$on("click",n[5]);let g=n[0].type=="toggle"&&Pt(n),m=n[0].type=="radio"&&Rt(n),p=n[0].type=="slider"&&Dt(n);return{c(){e=S("div"),t=S("span"),l=S("h1"),s=_e(i),o=z(),u=S("div"),U(a.$$.fragment),r=z(),g&&g.c(),f=z(),m&&m.c(),c=z(),p&&p.c(),w(u,"class","reset svelte-1y1vqy1"),E(u,"hidden",n[1]==n[0].auto),w(t,"class","above svelte-1y1vqy1"),w(e,"class","top svelte-1y1vqy1"),w(e,"style",d=`--spotlight:${n[4]}`)},m(_,b){B(_,e,b),y(e,t),y(t,l),y(l,s),y(t,o),y(t,u),K(a,u,null),y(t,r),g&&g.m(t,null),y(e,f),m&&m.m(e,null),y(e,c),p&&p.m(e,null),n[11](e),h=!0},p(_,[b]){(!h||b&1)&&i!==(i=_[0].name+"")&&we(s,i),b&3&&E(u,"hidden",_[1]==_[0].auto),_[0].type=="toggle"?g?(g.p(_,b),b&1&&F(g,1)):(g=Pt(_),g.c(),F(g,1),g.m(t,null)):g&&(re(),A(g,1,1,()=>{g=null}),fe()),_[0].type=="radio"?m?(m.p(_,b),b&1&&F(m,1)):(m=Rt(_),m.c(),F(m,1),m.m(e,c)):m&&(re(),A(m,1,1,()=>{m=null}),fe()),_[0].type=="slider"?p?(p.p(_,b),b&1&&F(p,1)):(p=Dt(_),p.c(),F(p,1),p.m(e,null)):p&&(re(),A(p,1,1,()=>{p=null}),fe()),(!h||b&16&&d!==(d=`--spotlight:${_[4]}`))&&w(e,"style",d)},i(_){h||(F(a.$$.fragment,_),F(g),F(m),F(p),h=!0)},o(_){A(a.$$.fragment,_),A(g),A(m),A(p),h=!1},d(_){_&&j(e),X(a),g&&g.d(),m&&m.d(),p&&p.d(),n[11](null)}}}function ql(n,e,t){let l,i=ie,s=()=>(i(),i=vn(c,b=>t(4,l=b)),c);n.$$.on_destroy.push(()=>i());let{setting:o}=e,{key:u}=e,a=o.value;function r(b){Y.setValue(u,b),b=o.value}function f(){Y.setValue(u,o.auto),t(1,a=o.value)}Ne(Y.subscribe([u],function(b){o.value!=a&&t(1,a=o.value)}));let c=at(0);s();let d;function h(){d.scrollIntoView({block:"center"}),s(t(2,c=at(1,{duration:2e3}))),Fe(c,l=0,l)}function g(b){a=b,t(1,a)}function m(b){a=b,t(1,a)}function p(b){a=b,t(1,a)}function _(b){G[b?"unshift":"push"](()=>{d=b,t(3,d)})}return n.$$set=b=>{"setting"in b&&t(0,o=b.setting),"key"in b&&t(6,u=b.key)},n.$$.update=()=>{n.$$.dirty&2&&r(a)},[o,a,c,d,l,f,u,h,g,m,p,_]}class Al extends ee{constructor(e){super();te(this,e,ql,Tl,$,{setting:0,key:6,scrollToSelf:7})}get scrollToSelf(){return this.$$.ctx[7]}}function Ht(n,e,t){const l=n.slice();return l[6]=e[t],l[7]=e,l[8]=t,l}function Bt(n,e,t){const l=n.slice();return l[6]=e[t],l[8]=t,l}function jt(n){let e,t,l=Y.data[n[6]].name+"",i,s,o,u;function a(){return n[3](n[8])}return{c(){e=S("li"),t=S("button"),i=_e(l),s=z(),w(t,"class","svelte-s4ows6")},m(r,f){B(r,e,f),y(e,t),y(t,i),y(e,s),o||(u=I(t,"click",a),o=!0)},p(r,f){n=r},d(r){r&&j(e),o=!1,u()}}}function Nt(n){let e,t=n[8],l;const i=()=>n[5](e,t),s=()=>n[5](null,t);let o={key:n[6],setting:Y.data[n[6]]};return e=new Al({props:o}),i(),{c(){U(e.$$.fragment)},m(u,a){K(e,u,a),l=!0},p(u,a){t!==u[8]&&(s(),t=u[8],i());const r={};e.$set(r)},i(u){l||(F(e.$$.fragment,u),l=!0)},o(u){A(e.$$.fragment,u),l=!1},d(u){s(),X(e,u)}}}function Pl(n){let e,t,l,i,s,o,u,a,r,f,c,d=Object.keys(Y.data),h=[];for(let _=0;_<d.length;_+=1)h[_]=jt(Bt(n,d,_));u=new ae({props:{icon:"delete",text:"reset all settings"}}),u.$on("click",n[4]);let g=Object.keys(Y.data),m=[];for(let _=0;_<g.length;_+=1)m[_]=Nt(Ht(n,g,_));const p=_=>A(m[_],1,1,()=>{m[_]=null});return{c(){e=S("div"),t=S("div"),l=S("ul");for(let _=0;_<h.length;_+=1)h[_].c();i=z(),s=S("div"),o=S("section"),U(u.$$.fragment),a=z(),r=S("section"),f=S("ul");for(let _=0;_<m.length;_+=1)m[_].c();w(l,"class","svelte-s4ows6"),w(t,"class","outline svelte-s4ows6"),w(o,"class","controls svelte-s4ows6"),w(f,"class","svelte-s4ows6"),w(r,"class","settings svelte-s4ows6"),w(s,"class","content svelte-s4ows6"),w(e,"class","top palette-plain svelte-s4ows6")},m(_,b){B(_,e,b),y(e,t),y(t,l);for(let C=0;C<h.length;C+=1)h[C].m(l,null);y(e,i),y(e,s),y(s,o),K(u,o,null),y(s,a),y(s,r),y(r,f);for(let C=0;C<m.length;C+=1)m[C].m(f,null);c=!0},p(_,[b]){if(b&2){d=Object.keys(Y.data);let C;for(C=0;C<d.length;C+=1){const V=Bt(_,d,C);h[C]?h[C].p(V,b):(h[C]=jt(V),h[C].c(),h[C].m(l,null))}for(;C<h.length;C+=1)h[C].d(1);h.length=d.length}if(b&1){g=Object.keys(Y.data);let C;for(C=0;C<g.length;C+=1){const V=Ht(_,g,C);m[C]?(m[C].p(V,b),F(m[C],1)):(m[C]=Nt(V),m[C].c(),F(m[C],1),m[C].m(f,null))}for(re(),C=g.length;C<m.length;C+=1)p(C);fe()}},i(_){if(!c){F(u.$$.fragment,_);for(let b=0;b<g.length;b+=1)F(m[b]);c=!0}},o(_){A(u.$$.fragment,_),m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)A(m[b]);c=!1},d(_){_&&j(e),Le(h,_),X(u),Le(m,_)}}}function Rl(n,e,t){let{closePopup:l}=e;Ne(()=>{Y.saveToLocalStorage()});let i=[];function s(r){i[r].scrollToSelf()}const o=r=>s(r),u=()=>Y.resetToAuto();function a(r,f){G[r?"unshift":"push"](()=>{i[f]=r,t(0,i)})}return n.$$set=r=>{"closePopup"in r&&t(2,l=r.closePopup)},[i,s,l,o,u,a]}class Dl extends ee{constructor(e){super();te(this,e,Rl,Pl,$,{closePopup:2})}}function Hl(n){let e;return{c(){e=_e("no name")},m(t,l){B(t,e,l)},p:ie,d(t){t&&j(e)}}}function Bl(n){let e=n[0].content+"",t;return{c(){t=_e(e)},m(l,i){B(l,t,i)},p(l,i){i&1&&e!==(e=l[0].content+"")&&we(t,e)},d(l){l&&j(t)}}}function jl(n){let e,t,l,i,s,o;function u(f,c){return f[0].content?Bl:Hl}let a=u(n),r=a(n);return{c(){e=S("div"),t=S("button"),r.c(),w(t,"class","svelte-wa6l8r"),E(t,"selected",n[1]),E(t,"empty",n[0].content.length==0),w(e,"class",l=oe(`top palette-${n[2]}`)+" svelte-wa6l8r"),E(e,"invert",n[0].invert)},m(f,c){B(f,e,c),y(e,t),r.m(t,null),s||(o=I(t,"click",n[3]),s=!0)},p(f,[c]){a===(a=u(f))&&r?r.p(f,c):(r.d(1),r=a(f),r&&(r.c(),r.m(t,null))),c&2&&E(t,"selected",f[1]),c&1&&E(t,"empty",f[0].content.length==0),c&4&&l!==(l=oe(`top palette-${f[2]}`)+" svelte-wa6l8r")&&w(e,"class",l),c&5&&E(e,"invert",f[0].invert)},i(f){i||ve(()=>{i=Be(e,Pn,{}),i.start()})},o:ie,d(f){f&&j(e),r.d(),s=!1,o()}}}function Nl(n,e,t){let{flow:l}=e,{selected:i}=e,s;function o(u){me.call(this,n,u)}return n.$$set=u=>{"flow"in u&&t(0,l=u.flow),"selected"in u&&t(1,i=u.selected)},n.$$.update=()=>{n.$$.dirty&1&&(l.invert?t(2,s="accent-secondary"):t(2,s="accent"))},[l,i,s,o]}class Ol extends ee{constructor(e){super();te(this,e,Nl,jl,$,{flow:0,selected:1})}}const{document:Ee}=bn;function Ot(n,e,t){const l=n.slice();return l[35]=e[t],l[36]=e,l[37]=t,l}function zt(n){let e,t,l=n[0],i,s,o,u,a=Vt(n);return{c(){e=S("div"),t=S("div"),a.c(),w(t,"class","popups svelte-kw71ya"),w(e,"class","screen svelte-kw71ya")},m(r,f){B(r,e,f),y(e,t),a.m(t,null),s=!0,o||(u=[I(t,"click",rt(n[13])),I(e,"click",rt(n[14]))],o=!0)},p(r,f){f[0]&1&&$(l,l=r[0])?(re(),A(a,1,1,ie),fe(),a=Vt(r),a.c(),F(a),a.m(t,null)):a.p(r,f)},i(r){s||(F(a),ve(()=>{i||(i=Ae(e,_t,{},!0)),i.run(1)}),s=!0)},o(r){A(a),i||(i=Ae(e,_t,{},!1)),i.run(0),s=!1},d(r){r&&j(e),a.d(r),r&&i&&i.end(),o=!1,be(u)}}}function Vt(n){let e,t;return e=new cl({props:{component:n[0][0],closeSelf:n[12]}}),{c(){U(e.$$.fragment)},m(l,i){K(e,l,i),t=!0},p(l,i){const s={};i[0]&1&&(s.component=l[0][0]),e.$set(s)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function zl(n){let e,t,l,i,s,o;return e=new ae({props:{icon:"settings",tooltip:"settings"}}),e.$on("click",n[15]),l=new ae({props:{icon:"download",disabled:n[1].length==0,disabledReason:"nothing to download",tooltip:"download as file"}}),l.$on("click",n[16]),s=new ae({props:{icon:"upload",tooltip:"import file"}}),s.$on("click",n[17]),{c(){U(e.$$.fragment),t=z(),U(l.$$.fragment),i=z(),U(s.$$.fragment)},m(u,a){K(e,u,a),B(u,t,a),K(l,u,a),B(u,i,a),K(s,u,a),o=!0},p(u,a){const r={};a[0]&2&&(r.disabled=u[1].length==0),l.$set(r)},i(u){o||(F(e.$$.fragment,u),F(l.$$.fragment,u),F(s.$$.fragment,u),o=!0)},o(u){A(e.$$.fragment,u),A(l.$$.fragment,u),A(s.$$.fragment,u),o=!1},d(u){X(e,u),u&&j(t),X(l,u),u&&j(i),X(s,u)}}}function Et(n){let e,t,l;function i(u){n[18](u,n[37])}function s(){return n[19](n[37])}let o={selected:n[37]==n[2]};return n[1][n[37]]!==void 0&&(o.flow=n[1][n[37]]),e=new Ol({props:o}),G.push(()=>Q(e,"flow",i)),e.$on("click",s),{c(){U(e.$$.fragment)},m(u,a){K(e,u,a),l=!0},p(u,a){n=u;const r={};a[0]&4&&(r.selected=n[37]==n[2]),!t&&a[0]&2&&(t=!0,r.flow=n[1][n[37]],Z(()=>t=!1)),e.$set(r)},i(u){l||(F(e.$$.fragment,u),l=!0)},o(u){A(e.$$.fragment,u),l=!1},d(u){X(e,u)}}}function It(n){let e,t,l,i,s,o,u,a,r,f,c,d,h=n[2],g,m;function p(q){n[22](q)}function _(q){n[23](q)}function b(q){n[24](q)}function C(q){n[25](q)}function V(q){n[26](q)}let R={};n[1][n[2]].content!==void 0&&(R.content=n[1][n[2]].content),n[1][n[2]].children!==void 0&&(R.children=n[1][n[2]].children),n[1][n[2]].index!==void 0&&(R.index=n[1][n[2]].index),n[1][n[2]].focus!==void 0&&(R.focus=n[1][n[2]].focus),n[1][n[2]].invert!==void 0&&(R.invert=n[1][n[2]].invert),t=new In({props:R}),G.push(()=>Q(t,"content",p)),G.push(()=>Q(t,"children",_)),G.push(()=>Q(t,"index",b)),G.push(()=>Q(t,"focus",C)),G.push(()=>Q(t,"invert",V));function T(q){n[27](q)}let O={};n[1][n[2]]!==void 0&&(O.flow=n[1][n[2]]),f=new al({props:O}),G.push(()=>Q(f,"flow",T));let N=Ut(n);return{c(){e=S("div"),U(t.$$.fragment),a=z(),r=S("div"),U(f.$$.fragment),d=z(),N.c(),g=Xe(),w(e,"class","title svelte-kw71ya"),w(r,"class","box-control svelte-kw71ya")},m(q,P){B(q,e,P),K(t,e,null),B(q,a,P),B(q,r,P),K(f,r,null),B(q,d,P),N.m(q,P),B(q,g,P),m=!0},p(q,P){const v={};!l&&P[0]&6&&(l=!0,v.content=q[1][q[2]].content,Z(()=>l=!1)),!i&&P[0]&6&&(i=!0,v.children=q[1][q[2]].children,Z(()=>i=!1)),!s&&P[0]&6&&(s=!0,v.index=q[1][q[2]].index,Z(()=>s=!1)),!o&&P[0]&6&&(o=!0,v.focus=q[1][q[2]].focus,Z(()=>o=!1)),!u&&P[0]&6&&(u=!0,v.invert=q[1][q[2]].invert,Z(()=>u=!1)),t.$set(v);const D={};!c&&P[0]&6&&(c=!0,D.flow=q[1][q[2]],Z(()=>c=!1)),f.$set(D),P[0]&4&&$(h,h=q[2])?(re(),A(N,1,1,ie),fe(),N=Ut(q),N.c(),F(N),N.m(g.parentNode,g)):N.p(q,P)},i(q){m||(F(t.$$.fragment,q),F(f.$$.fragment,q),F(N),m=!0)},o(q){A(t.$$.fragment,q),A(f.$$.fragment,q),A(N),m=!1},d(q){q&&j(e),X(t),q&&j(a),q&&j(r),X(f),q&&j(d),q&&j(g),N.d(q)}}}function Ut(n){let e,t,l,i;function s(u){n[28](u)}let o={};return n[1][n[2]]!==void 0&&(o.root=n[1][n[2]]),t=new zn({props:o}),G.push(()=>Q(t,"root",s)),t.$on("focusFlow",n[4]),{c(){e=S("div"),U(t.$$.fragment),w(e,"class","flow svelte-kw71ya")},m(u,a){B(u,e,a),K(t,e,null),i=!0},p(u,a){const r={};!l&&a[0]&6&&(l=!0,r.root=u[1][u[2]],Z(()=>l=!1)),t.$set(r)},i(u){i||(F(t.$$.fragment,u),i=!0)},o(u){A(t.$$.fragment,u),i=!1},d(u){u&&j(e),X(t)}}}function Vl(n){let e,t,l,i,s,o,u,a,r,f,c,d,h,g,m,p,_,b,C,V,R,T=n[0].length>0&&zt(n);r=new Zt({props:{$$slots:{default:[zl]},$$scope:{ctx:n}}});let O=n[1],N=[];for(let v=0;v<O.length;v+=1)N[v]=Et(Ot(n,O,v));const q=v=>A(N[v],1,1,()=>{N[v]=null});m=new ae({props:{text:"on case",palette:"accent",icon:"add",tooltip:"create new oncase flow"}}),m.$on("click",n[20]),_=new ae({props:{text:"off case",palette:"accent-secondary",icon:"add",tooltip:"create new offcase flow"}}),_.$on("click",n[21]);let P=n[1].length>0&&It(n);return{c(){e=z(),t=S("main"),T&&T.c(),l=z(),i=S("input"),s=z(),o=S("div"),u=S("div"),a=S("div"),U(r.$$.fragment),f=z(),c=S("div"),d=S("ul");for(let v=0;v<N.length;v+=1)N[v].c();h=z(),g=S("div"),U(m.$$.fragment),p=z(),U(_.$$.fragment),b=z(),P&&P.c(),w(i,"id","uploadId"),w(i,"type","file"),i.hidden=!0,w(a,"class","header svelte-kw71ya"),w(g,"class","add-tab svelte-kw71ya"),w(d,"class","svelte-kw71ya"),w(c,"class","tabs svelte-kw71ya"),w(u,"class","sidebar svelte-kw71ya"),w(o,"class","grid svelte-kw71ya"),w(t,"class","palette-plain"),E(t,"activeMouse",je)},m(v,D){B(v,e,D),B(v,t,D),T&&T.m(t,null),y(t,l),y(t,i),y(t,s),y(t,o),y(o,u),y(u,a),K(r,a,null),y(u,f),y(u,c),y(c,d);for(let W=0;W<N.length;W+=1)N[W].m(d,null);y(d,h),y(d,g),K(m,g,null),y(g,p),K(_,g,null),y(o,b),P&&P.m(o,null),C=!0,V||(R=[I(Ee.body,"keydown",n[7]),I(Ee.body,"mousemove",n[6]),I(Ee.body,"dragenter",El),I(Ee.body,"drop",n[8]),I(i,"change",n[9])],V=!0)},p(v,D){v[0].length>0?T?(T.p(v,D),D[0]&1&&F(T,1)):(T=zt(v),T.c(),F(T,1),T.m(t,l)):T&&(re(),A(T,1,1,()=>{T=null}),fe());const W={};if(D[0]&2|D[1]&128&&(W.$$scope={dirty:D,ctx:v}),r.$set(W),D[0]&14){O=v[1];let k;for(k=0;k<O.length;k+=1){const H=Ot(v,O,k);N[k]?(N[k].p(H,D),F(N[k],1)):(N[k]=Et(H),N[k].c(),F(N[k],1),N[k].m(d,h))}for(re(),k=O.length;k<N.length;k+=1)q(k);fe()}v[1].length>0?P?(P.p(v,D),D[0]&2&&F(P,1)):(P=It(v),P.c(),F(P,1),P.m(o,null)):P&&(re(),A(P,1,1,()=>{P=null}),fe())},i(v){if(!C){F(T),F(r.$$.fragment,v);for(let D=0;D<O.length;D+=1)F(N[D]);F(m.$$.fragment,v),F(_.$$.fragment,v),F(P),C=!0}},o(v){A(T),A(r.$$.fragment,v),N=N.filter(Boolean);for(let D=0;D<N.length;D+=1)A(N[D]);A(m.$$.fragment,v),A(_.$$.fragment,v),A(P),C=!1},d(v){v&&j(e),v&&j(t),T&&T.d(),X(r),Le(N,v),X(m),X(_),P&&P.d(),V=!1,be(R)}}}function El(n){n.preventDefault()}function Il(n,e,t){let l,i,s;he(n,le,L=>t(1,l=L)),he(n,qe,L=>t(2,i=L)),he(n,je,L=>t(29,s=L));let o=window.matchMedia("(prefers-color-scheme: dark)");function u(){Y.data.colorTheme.value==0&&document.body.classList.toggle("dark",o.matches)}o.addEventListener("change",u),Ne(Y.subscribe(["colorTheme"],function(L){Y.data.colorTheme.value==1?document.body.classList.remove("dark"):Y.data.colorTheme.value==2?document.body.classList.add("dark"):u()}));let a={accentHue:{name:"accent-hue",unit:""},accentSecondaryHue:{name:"accent-secondary-hue",unit:""},transitionSpeed:{name:"transition-speed",unit:"ms"},borderRadius:{name:"border-radius",unit:"px"},padding:{name:"padding",unit:"px"},fontSize:{name:"font-size",unit:"rem"},gap:{name:"gap",unit:"px"}};Ne(Y.subscribe(Object.keys(a),function(L){let x=a[L].name,se=Y.data[L].value,De=a[L].unit;document.body.style.setProperty(`--${x}`,`${se}${De}`)}));function r(L){Fe(qe,i=L,i),f()}function f(){var L,x;let se=((L=l[i])===null||L===void 0?void 0:L.lastFocus)&&de((x=l[i])===null||x===void 0?void 0:x.lastFocus);se?se.focus=!0:Fe(le,l[i].children[0].focus=!0,l),le.set(l)}function c(){var L,x;let se=((L=l[i])===null||L===void 0?void 0:L.lastFocus)&&de((x=l[i])===null||x===void 0?void 0:x.lastFocus);se&&(se.focus=!1)}function d(L){c(),l.push(Mn(l.length,L)),Fe(qe,i=l.length-1,i),le.set(l)}function h(L){Fe(je,s=!0,s)}function g(L){Fe(je,s=!1,s),L.ctrlKey&&L.shiftKey&&L.key=="N"?(L.preventDefault(),d("aff")):L.ctrlKey&&L.key=="n"&&(L.preventDefault(),d("neg")),L.metaKey&&L.shiftKey&&L.key=="z"?(L.preventDefault(),l[i].history.redo()):L.metaKey&&L.key=="z"&&(L.preventDefault(),l[i].history.undo())}function m(L){L.preventDefault();let x=L.dataTransfer.files[0],se=new FileReader;se.onload=function(De){_(De.target.result.toString())},se.readAsText(x,"UTF-8")}function p(){let L=document.getElementById("uploadId").files[0],x=new FileReader;x.onload=function(se){_(se.target.result.toString())},x.readAsText(L,"UTF-8")}function _(L){let x=JSON.parse(L);Fe(le,l=[],l);for(let se of x)se.history=new Yt,l.push(se)}window.addEventListener("dragover",function(L){L.preventDefault()},!1),window.addEventListener("drop",function(L){L.preventDefault()},!1);let b=[];function C(L){b.splice(L,1),t(0,b)}function V(L){b.push(L),t(0,b)}const R=()=>C(0),T=()=>{C(0)},O=()=>{C(0)},N=()=>V(Dl),q=()=>V(_l),P=()=>V(vl);function v(L,x){n.$$.not_equal(l[x],L)&&(l[x]=L,le.set(l))}const D=L=>r(L),W=()=>d("aff"),k=()=>d("neg");function H(L){n.$$.not_equal(l[i].content,L)&&(l[i].content=L,le.set(l))}function ue(L){n.$$.not_equal(l[i].children,L)&&(l[i].children=L,le.set(l))}function Re(L){n.$$.not_equal(l[i].index,L)&&(l[i].index=L,le.set(l))}function Je(L){n.$$.not_equal(l[i].focus,L)&&(l[i].focus=L,le.set(l))}function We(L){n.$$.not_equal(l[i].invert,L)&&(l[i].invert=L,le.set(l))}function pe(L){n.$$.not_equal(l[i],L)&&(l[i]=L,le.set(l))}function Me(L){n.$$.not_equal(l[i],L)&&(l[i]=L,le.set(l))}return[b,l,i,r,f,d,h,g,m,p,C,V,R,T,O,N,q,P,v,D,W,k,H,ue,Re,Je,We,pe,Me]}class Ul extends ee{constructor(e){super();te(this,e,Il,Vl,$,{},null,[-1,-1])}}new Ul({target:document.body});
